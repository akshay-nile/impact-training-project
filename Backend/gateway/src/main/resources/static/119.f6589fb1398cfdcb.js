"use strict";(self.webpackChunkct_hospital=self.webpackChunkct_hospital||[]).push([[119],{9119:($n,J,s)=>{s.r(J),s.d(J,{NurseModule:()=>Wn});var m=s(9808),g=s(1083),Y=s(5758),c=s(8966),p=s(4999),x=s(9062),U=s(4847),t=s(5e3),r=s(3075),T=s(706),N=s(8487),y=s(7261),A=s(349);function O(n,o){1&n&&(t.TgZ(0,"small",38),t._uU(1,"Meeting Title cannot be blank"),t.qZA())}function V(n,o){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,O,2,0,"small",17),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.f("meetingTitle").errors?null:e.f("meetingTitle").errors.required)}}function S(n,o){1&n&&(t.TgZ(0,"small",38),t._uU(1,"Description cannot be blank"),t.qZA())}function E(n,o){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,S,2,0,"small",17),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.f("description").errors?null:e.f("description").errors.required)}}function R(n,o){if(1&n&&(t.TgZ(0,"option",24),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",e.employeeId),t.xp6(1),t.Oqu(e.name)}}function H(n,o){1&n&&(t.TgZ(0,"small",38),t._uU(1,"Physician cannot be empty"),t.qZA())}function L(n,o){if(1&n&&(t.TgZ(0,"option",24),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",e.patientId),t.xp6(1),t.Oqu(e.name)}}function z(n,o){1&n&&(t.TgZ(0,"small",38),t._uU(1,"Patient cannot be empty"),t.qZA())}function B(n,o){1&n&&(t.TgZ(0,"option",24),t._uU(1,"No Window Available"),t.qZA()),2&n&&t.Q6J("value",-1)}function G(n,o){1&n&&(t.TgZ(0,"option",24),t._uU(1,"Select Window"),t.qZA()),2&n&&t.Q6J("value",-1)}function W(n,o){if(1&n&&(t.TgZ(0,"option",24),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",o.index),t.xp6(1),t.Oqu(e.label)}}function j(n,o){1&n&&(t.TgZ(0,"small",38),t._uU(1," Please select availability window"),t.qZA())}function $(n,o){1&n&&(t.TgZ(0,"option",24),t._uU(1,"Select Start Time"),t.qZA()),2&n&&t.Q6J("value",-1)}function X(n,o){if(1&n&&(t.TgZ(0,"option",24),t._uU(1),t.ALo(2,"uppercase"),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",o.index),t.xp6(1),t.Oqu(t.lcZ(2,2,e))}}function K(n,o){1&n&&(t.TgZ(0,"option",24),t._uU(1,"Select End Time"),t.qZA()),2&n&&t.Q6J("value",-1)}function tt(n,o){if(1&n&&(t.TgZ(0,"option",24),t._uU(1),t.ALo(2,"uppercase"),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",o.index),t.xp6(1),t.Oqu(t.lcZ(2,2,e))}}function et(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",10)(1,"div",39)(2,"label",40),t._uU(3,"Start Time"),t.qZA(),t.TgZ(4,"select",41),t.NdJ("change",function(){return t.CHM(e),t.oxw().updateEndTimes()}),t.YNc(5,$,2,1,"option",30),t.YNc(6,X,3,4,"option",16),t.qZA()(),t.TgZ(7,"div",39)(8,"label",42),t._uU(9,"End Time"),t.qZA(),t.TgZ(10,"select",43),t.YNc(11,K,2,1,"option",30),t.YNc(12,tt,3,4,"option",16),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(5),t.Q6J("ngIf",e.startTimes.length>0),t.xp6(1),t.Q6J("ngForOf",e.startTimes),t.xp6(5),t.Q6J("ngIf",0==e.endTimes.length),t.xp6(1),t.Q6J("ngForOf",e.endTimes)}}let nt=(()=>{class n{constructor(e,i,a,l,d,v,u){this.snackbar=e,this.datePipe=i,this.apptService=a,this.dialogRef=l,this.data=d,this.locale=v,this.formBuilder=u,this.windows=[],this.startTimes=[],this.endTimes=[],this.date=this.datePipe.transform(new Date,"yyyy-MM-dd");let f=new Date;this.next3months=this.datePipe.transform(new Date(f.setMonth(f.getMonth()+3)),"yyyy-MM-dd"),this.nurseName=this.data.user.title+". "+this.data.user.firstName+" "+this.data.user.lastName,this.appointmentForm=this.formBuilder.group({meetingTitle:["",[r.kI.required,N.O]],description:["",[r.kI.required,N.O]],aptDate:[this.date,[r.kI.required]],physician:["",[r.kI.required]],employeeId:[{value:"",disabled:!0}],patient:["",[r.kI.required]],patientId:[{value:"",disabled:!0}],window:[{value:-1,disabled:!0},[r.kI.required,T.q]],startsAt:[-1,[r.kI.required,T.q]],endsAt:[{value:-1,disabled:!0},[r.kI.required,T.q]],editHistory:["Not Applicable"]})}get today(){return(0,m.p6)(new Date,"yyyy-MM-dd",this.locale)}ngOnInit(){this.getAvailabilityWindows()}f(e){return this.appointmentForm.controls[e]}getAvailabilityWindows(){let e=this.appointmentForm.getRawValue();const i={date:e.aptDate,employeeId:e.physician,patientId:e.patient};""===i.employeeId||""===i.patientId?(this.windows=[],this.appointmentForm.controls.window.setValue(-1),this.appointmentForm.controls.window.disable()):this.apptService.getAvailabilityWindows(i).subscribe(a=>{this.appointmentForm.controls.window.enable(),this.windows=a}),this.populateTimes()}populateTimes(){let e=this.appointmentForm.controls.window.value;e>=0?(this.startTimes=this.windows[e].startTimes,this.endTimes=this.windows[e].endTimes):(this.startTimes=[],this.endTimes=[])}updateEndTimes(){let e=this.appointmentForm.controls.window.value,i=this.appointmentForm.controls.startsAt.value;e>=0&&i>=0?(this.appointmentForm.controls.endsAt.enable(),this.endTimes=this.windows[e].endTimes.slice(i),this.appointmentForm.controls.endsAt.setValue(0)):(this.endTimes=[],this.appointmentForm.controls.endsAt.setValue(-1),this.appointmentForm.controls.endsAt.disable())}getAppointmentReady(){const e=this.appointmentForm.getRawValue();let i={time:this.startTimes[e.startsAt]+" to "+this.endTimes[e.endsAt],editedBy:this.data.user.employeeId};for(let a of"title=meetingTitle patientId=patient description=description employeeId=physician date=aptDate".split(" ")){let l=a.split("=");i[l[0]]=e[l[1]]}return i}bookAppointment(){let e=this.getAppointmentReady();e.editHistory="Booked by "+this.nurseName+" (Nurse) on "+this.appointmentForm.getRawValue().aptDate,e.status="ACCEPTED",this.apptService.addAppointment(e).subscribe(i=>{this.snackbar.open("Appointment Successfully Booked !","",{duration:3e3}),this.dialogRef.close()})}close(){this.dialogRef.close()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(y.ux),t.Y36(m.uU),t.Y36(A.H),t.Y36(c.so),t.Y36(c.WI),t.Y36(t.soG),t.Y36(r.qu))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-appointment-dialog"]],decls:66,vars:18,consts:[[1,"card","mb-4",2,"padding","1em","border","none"],[1,"text-center"],[1,"text-dark","text-muted","mb-4","appointmentTitle"],["autofocus","off",3,"formGroup"],[1,"mb-4"],["for","meetingTitle",1,"form-label"],["type","text","formControlName","meetingTitle","id","meetingTitle",1,"form-control"],[4,"ngIf"],["for","description",1,"form-label"],["type","text","formControlName","description","id","description",1,"form-control"],[1,"row","mb-4"],[1,"col","col-md-8"],["for","physician",1,"form-label"],["formControlName","physician",1,"form-control",3,"change"],["selectedEmployee",""],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","text-danger",4,"ngIf"],[1,"col","col-md-4"],["for","employeeId",1,"form-label"],["type","text","formControlName","employeeId","readonly","",1,"form-control",3,"value"],["for","patient",1,"form-label"],["formControlName","patient",1,"form-control",3,"change"],["selectedPatient",""],[3,"value"],["type","text","formControlName","patientId","readonly","",1,"form-control",3,"value"],["for","aptDate",1,"form-label"],["type","date","formControlName","aptDate",1,"form-control",3,"min","max","change"],["for","window",1,"form-label"],["formControlName","window",1,"form-control",3,"change"],[3,"value",4,"ngIf"],["class","row mb-4",4,"ngIf"],["for","editHistory",1,"form-label"],["type","text","id","editHistory","readonly","readonly","value","Not Applicable",1,"form-control"],[1,"row","mt-4","mb-2"],[1,"col","col-md-12","text-center"],[1,"btn","btn-success","me-3",3,"disabled","click"],[1,"btn","btn-warning","ms-3",3,"click"],[1,"text-danger"],[1,"col","col-md-6"],["for","startsAt",1,"form-label"],["formControlName","startsAt",1,"form-control",3,"change"],["for","endsAt",1,"form-label"],["formControlName","endsAt",1,"form-control"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),t._uU(3,"Book Appointment"),t.qZA()(),t.TgZ(4,"form",3)(5,"div",4)(6,"label",5),t._uU(7,"Meeting Title"),t.qZA(),t._UZ(8,"input",6),t.YNc(9,V,2,1,"div",7),t.qZA(),t.TgZ(10,"div",4)(11,"label",8),t._uU(12,"Description"),t.qZA(),t._UZ(13,"textarea",9),t.YNc(14,E,2,1,"div",7),t.qZA(),t.TgZ(15,"div",10)(16,"div",11)(17,"label",12),t._uU(18,"Physician Name"),t.qZA(),t.TgZ(19,"select",13,14),t.NdJ("change",function(){return i.getAvailabilityWindows()}),t.TgZ(21,"option",15),t._uU(22,"Select Physician"),t.qZA(),t.YNc(23,R,2,2,"option",16),t.qZA(),t.YNc(24,H,2,0,"small",17),t.qZA(),t.TgZ(25,"div",18)(26,"label",19),t._uU(27,"Physician ID"),t.qZA(),t._UZ(28,"input",20),t.qZA()(),t.TgZ(29,"div",10)(30,"div",11)(31,"label",21),t._uU(32,"Patient Name"),t.qZA(),t.TgZ(33,"select",22,23),t.NdJ("change",function(){return i.getAvailabilityWindows()}),t.TgZ(35,"option",24),t._uU(36,"Select Patient"),t.qZA(),t.YNc(37,L,2,2,"option",16),t.qZA(),t.YNc(38,z,2,0,"small",17),t.qZA(),t.TgZ(39,"div",18)(40,"label",19),t._uU(41,"Patient ID"),t.qZA(),t._UZ(42,"input",25),t.qZA()(),t.TgZ(43,"div",4)(44,"label",26),t._uU(45,"Date of Appointment"),t.qZA(),t.TgZ(46,"input",27),t.NdJ("change",function(){return i.getAvailabilityWindows()}),t.qZA()(),t.TgZ(47,"div",4)(48,"label",28),t._uU(49,"Availability Window"),t.qZA(),t.TgZ(50,"select",29),t.NdJ("change",function(){return i.populateTimes()}),t.YNc(51,B,2,1,"option",30),t.YNc(52,G,2,1,"option",30),t.YNc(53,W,2,2,"option",16),t.qZA(),t.YNc(54,j,2,0,"small",17),t.qZA(),t.YNc(55,et,13,4,"div",31),t.TgZ(56,"div",4)(57,"label",32),t._uU(58,"Edit History"),t.qZA(),t._UZ(59,"input",33),t.qZA(),t.TgZ(60,"div",34)(61,"div",35)(62,"button",36),t.NdJ("click",function(){return i.bookAppointment()}),t._uU(63,"Book"),t.qZA(),t.TgZ(64,"button",37),t.NdJ("click",function(){return i.close()}),t._uU(65,"Close"),t.qZA()()()()()),2&e){const a=t.MAs(20),l=t.MAs(34);t.xp6(4),t.Q6J("formGroup",i.appointmentForm),t.xp6(5),t.Q6J("ngIf",i.f("meetingTitle").touched&&i.f("meetingTitle").invalid),t.xp6(5),t.Q6J("ngIf",i.f("description").touched&&i.f("description").invalid),t.xp6(9),t.Q6J("ngForOf",i.data.employeeNames),t.xp6(1),t.Q6J("ngIf",i.f("physician").touched&&i.f("physician").invalid),t.xp6(4),t.Q6J("value",a.value),t.xp6(7),t.Q6J("value",""),t.xp6(2),t.Q6J("ngForOf",i.data.patientNames),t.xp6(1),t.Q6J("ngIf",i.f("patient").touched&&i.f("patient").invalid),t.xp6(4),t.Q6J("value",l.value),t.xp6(4),t.Q6J("min",i.today)("max",i.next3months),t.xp6(5),t.Q6J("ngIf",0==i.windows.length),t.xp6(1),t.Q6J("ngIf",i.windows.length>0),t.xp6(1),t.Q6J("ngForOf",i.windows),t.xp6(1),t.Q6J("ngIf",i.f("window").touched&&-1==i.f("window").value),t.xp6(1),t.Q6J("ngIf",i.windows.length>0&&-1!=i.f("window").value),t.xp6(7),t.Q6J("disabled",i.appointmentForm.invalid)}},directives:[r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,m.O5,r.EJ,r.YN,r.Kr,m.sg],pipes:[m.gd],styles:["@media only screen and (max-width: 576px){a[_ngcontent-%COMP%]{font-size:small;margin:0%!important}.appointment[_ngcontent-%COMP%]{font-size:medium!important}mat-raised-button[_ngcontent-%COMP%]{font-size:medium}.appointmentTitle[_ngcontent-%COMP%]{font-size:small}.btn-success[_ngcontent-%COMP%]{margin:0%!important}.btn-warning[_ngcontent-%COMP%]{margin:5%!important}}@media only screen and (min-width: 577px){a[_ngcontent-%COMP%]{font-size:large}}"]}),n})();var it=s(5973);class ot{}class at{}class lt{}class rt{}var C=s(7278),st=s(8503),Z=s(3251),_=s(9224),mt=s(9203);function pt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"ask-reason",3),t.NdJ("reason",function(a){return t.CHM(e),t.oxw().cancelAppointment(a)}),t.qZA()}2&n&&t.Q6J("type","cancel")}function dt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"ask-reason",3),t.NdJ("reason",function(a){return t.CHM(e),t.oxw().editAppointment(a)}),t.qZA()}2&n&&t.Q6J("type","edit")}function ct(n,o){1&n&&(t.TgZ(0,"small",36),t._uU(1,"Meeting Title cannot be blank"),t.qZA())}function ut(n,o){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,ct,2,0,"small",17),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.appointmentForm.controls.meetingTitle.errors?null:e.appointmentForm.controls.meetingTitle.errors.required)}}function gt(n,o){1&n&&(t.TgZ(0,"small",36),t._uU(1,"Description cannot be blank"),t.qZA())}function _t(n,o){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,gt,2,0,"small",17),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.appointmentForm.controls.description.errors?null:e.appointmentForm.controls.description.errors.required)}}function ft(n,o){if(1&n&&(t.TgZ(0,"option",37),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",e.employeeId),t.xp6(1),t.Oqu(e.name)}}function ht(n,o){1&n&&(t.TgZ(0,"small",36),t._uU(1,"Physician cannot be empty"),t.qZA())}function vt(n,o){if(1&n&&(t.TgZ(0,"option",37),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",e.patientId),t.xp6(1),t.Oqu(e.name)}}function bt(n,o){1&n&&(t.TgZ(0,"small",36),t._uU(1,"Patient cannot be empty"),t.qZA())}function Tt(n,o){1&n&&(t.TgZ(0,"option",37),t._uU(1,"No Window Available"),t.qZA()),2&n&&t.Q6J("value",-1)}function Zt(n,o){1&n&&(t.TgZ(0,"option",37),t._uU(1,"Select Window"),t.qZA()),2&n&&t.Q6J("value",-1)}function At(n,o){if(1&n&&(t.TgZ(0,"option",37),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",o.index),t.xp6(1),t.Oqu(e.label)}}function Ct(n,o){1&n&&(t.TgZ(0,"small",36),t._uU(1," Availability window is required"),t.qZA())}function xt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",5)(1,"label",38),t._uU(2,"Availability Window"),t.qZA(),t.TgZ(3,"select",39),t.NdJ("change",function(){return t.CHM(e),t.oxw(2).populateTimes()}),t.YNc(4,Tt,2,1,"option",40),t.YNc(5,Zt,2,1,"option",40),t.YNc(6,At,2,2,"option",16),t.qZA(),t.YNc(7,Ct,2,0,"small",17),t.qZA()}if(2&n){const e=t.oxw(2);t.xp6(4),t.Q6J("ngIf",0==e.windows.length),t.xp6(1),t.Q6J("ngIf",e.windows.length>0),t.xp6(1),t.Q6J("ngForOf",e.windows),t.xp6(1),t.Q6J("ngIf",e.appointmentForm.controls.window.touched&&-1==e.appointmentForm.controls.window.value)}}function Nt(n,o){1&n&&(t.TgZ(0,"option",37),t._uU(1,"Select Start Time"),t.qZA()),2&n&&t.Q6J("value",-1)}function yt(n,o){if(1&n&&(t.TgZ(0,"option",37),t._uU(1),t.ALo(2,"uppercase"),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",o.index),t.xp6(1),t.Oqu(t.lcZ(2,2,e))}}function Dt(n,o){1&n&&(t.TgZ(0,"option",37),t._uU(1,"Select End Time"),t.qZA()),2&n&&t.Q6J("value",-1)}function wt(n,o){if(1&n&&(t.TgZ(0,"option",37),t._uU(1),t.ALo(2,"uppercase"),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",o.index),t.xp6(1),t.Oqu(t.lcZ(2,2,e))}}function qt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",41)(1,"div",42)(2,"label",43),t._uU(3,"Start Time"),t.qZA(),t.TgZ(4,"select",44),t.NdJ("change",function(){return t.CHM(e),t.oxw(2).updateEndTimes()}),t.YNc(5,Nt,2,1,"option",40),t.YNc(6,yt,3,4,"option",16),t.qZA()(),t.TgZ(7,"div",42)(8,"label",45),t._uU(9,"End Time"),t.qZA(),t.TgZ(10,"select",46),t.YNc(11,Dt,2,1,"option",40),t.YNc(12,wt,3,4,"option",16),t.qZA()()()}if(2&n){const e=t.oxw(2);t.xp6(5),t.Q6J("ngIf",e.startTimes.length>0),t.xp6(1),t.Q6J("ngForOf",e.startTimes),t.xp6(5),t.Q6J("ngIf",0==e.endTimes.length),t.xp6(1),t.Q6J("ngForOf",e.endTimes)}}function Mt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",47),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).acceptAppointment()}),t._uU(1,"Accept"),t.qZA()}}function It(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",48),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).mode="edit"}),t._uU(1,"Update"),t.qZA()}}function Pt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",49),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).mode="cancel"}),t._uU(1,"Cancel"),t.qZA()}}const Jt=function(){return["ACCEPTED","PENDING"]};function Ut(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"form",4)(1,"div",5)(2,"label",6),t._uU(3,"Meeting Title"),t.qZA(),t._UZ(4,"input",7),t.YNc(5,ut,2,1,"div",8),t.qZA(),t.TgZ(6,"div",5)(7,"label",9),t._uU(8,"Description"),t.qZA(),t._UZ(9,"textarea",10),t.YNc(10,_t,2,1,"div",8),t.qZA(),t.TgZ(11,"div",11)(12,"div",12)(13,"label",13),t._uU(14,"Physician Name"),t.qZA(),t.TgZ(15,"select",14),t.NdJ("change",function(){t.CHM(e);const a=t.oxw();return a.getAvailabilityWindows(),a.showPhysicianId()}),t.TgZ(16,"option",15),t._uU(17,"Select Physician"),t.qZA(),t.YNc(18,ft,2,2,"option",16),t.qZA(),t.YNc(19,ht,2,0,"small",17),t.qZA(),t.TgZ(20,"div",18)(21,"label",19),t._uU(22,"Physician ID"),t.qZA(),t._UZ(23,"input",20),t.qZA()(),t.TgZ(24,"div",11)(25,"div",12)(26,"label",21),t._uU(27,"Patient Name"),t.qZA(),t.TgZ(28,"select",22),t.NdJ("change",function(){return t.CHM(e),t.oxw().getAvailabilityWindows()}),t.YNc(29,vt,2,2,"option",16),t.qZA(),t.YNc(30,bt,2,0,"small",17),t.qZA(),t.TgZ(31,"div",18)(32,"label",19),t._uU(33,"Patient ID"),t.qZA(),t._UZ(34,"input",23),t.qZA()(),t.TgZ(35,"div",5)(36,"label",24),t._uU(37,"Date of Appointment"),t.qZA(),t.TgZ(38,"input",25),t.NdJ("change",function(){return t.CHM(e),t.oxw().getAvailabilityWindows()}),t.qZA()(),t.YNc(39,xt,8,4,"div",26),t.YNc(40,qt,13,4,"div",27),t.TgZ(41,"div",5)(42,"label",28),t._uU(43,"Edit History"),t.qZA(),t._UZ(44,"input",29),t.qZA(),t.TgZ(45,"div",30)(46,"div",31),t.YNc(47,Mt,2,0,"button",32),t.YNc(48,It,2,0,"button",33),t.YNc(49,Pt,2,0,"button",34),t.TgZ(50,"button",35),t.NdJ("click",function(){return t.CHM(e),t.oxw().close()}),t._uU(51,"Close"),t.qZA()()()()}if(2&n){const e=t.oxw();t.Q6J("formGroup",e.appointmentForm),t.xp6(5),t.Q6J("ngIf",e.appointmentForm.controls.meetingTitle.touched&&e.appointmentForm.controls.meetingTitle.invalid),t.xp6(5),t.Q6J("ngIf",e.appointmentForm.controls.description.touched&&e.appointmentForm.controls.description.invalid),t.xp6(8),t.Q6J("ngForOf",e.data.employeeNames),t.xp6(1),t.Q6J("ngIf",e.f("physician").touched&&e.f("physician").invalid),t.xp6(10),t.Q6J("ngForOf",e.data.patientNames),t.xp6(1),t.Q6J("ngIf",e.f("patient").touched&&e.f("patient").invalid),t.xp6(8),t.Q6J("min",e.today)("max",e.next3months),t.xp6(1),t.Q6J("ngIf",!e.editable),t.xp6(1),t.Q6J("ngIf",e.windows.length>0||e.editable),t.xp6(7),t.Q6J("ngIf","PENDING"===e.data.appointment.status),t.xp6(1),t.Q6J("ngIf","PENDING"===e.data.appointment.status),t.xp6(1),t.Q6J("ngIf",t.DdM(14,Jt).includes(e.data.appointment.status))}}let Ft=(()=>{class n{constructor(e,i,a,l,d,v){this.snackbar=e,this.datePipe=i,this.apptService=a,this.dialogRef=l,this.locale=d,this.formBuilder=v,this.windows=[],this.startTimes=[],this.endTimes=[],this.mode="",this.date=this.datePipe.transform(new Date,"yyyy-MM-dd");let u=new Date;this.next3months=this.datePipe.transform(new Date(u.setMonth(u.getMonth()+3)),"yyyy-MM-dd")}get today(){return(0,m.p6)(new Date,"yyyy-MM-dd",this.locale)}ngOnInit(){if(this.nurseName=this.data.user.title+". "+this.data.user.firstName+" "+this.data.user.lastName,this.editable="PENDING"!==this.data.appointment.status,this.appointmentForm=this.formBuilder.group({meetingTitle:[{value:this.data.appointment.title,disabled:this.editable},[r.kI.required,N.O]],description:[{value:this.data.appointment.description,disabled:this.editable},[r.kI.required,N.O]],aptDate:[{value:this.data.appointment.date,disabled:this.editable},[r.kI.required]],physician:[{value:this.data.appointment.employeeId,disabled:this.editable},[r.kI.required]],employeeId:[{value:this.data.appointment.employeeId,disabled:!0}],patient:[{value:this.data.appointment.patientId,disabled:!0}],patientId:[{value:this.data.appointment.patientId,disabled:!0}],window:[{value:-1,disabled:!0},[r.kI.required,T.q]],startsAt:[{value:-1,disabled:this.editable},[r.kI.required,T.q]],endsAt:[{value:-1,disabled:!0},[r.kI.required,T.q]],editHistory:[this.data.appointment.editHistory||"Not Applicable"]}),this.editable){let e=this.data.appointment.time.split(" to ");this.startTimes=[e[0]],this.f("startsAt").setValue(0),this.endTimes=[e[1]],this.f("endsAt").setValue(0)}else this.getAvailabilityWindows(this.data.appointment)}f(e){return this.appointmentForm.controls[e]}showPhysicianId(){this.appointmentForm.controls.employeeId.setValue(this.appointmentForm.value.physician)}getAvailabilityWindows(e){const i={};if(e)i.date=e.date,i.employeeId=e.employeeId,i.patientId=e.patientId,i.skip=e.appointmentId;else{let a=this.appointmentForm.getRawValue();i.date=a.aptDate,i.employeeId=a.employeeId,i.patientId=a.patientId,i.skip=this.data.appointment.appointmentId}if(""===i.employeeId||""===i.patientId)return this.windows=[],this.appointmentForm.controls.window.setValue(-1),void this.appointmentForm.controls.window.disable();this.apptService.getAvailabilityWindows(i).subscribe(a=>{this.windows=a,this.windows.length>0&&!this.editable&&this.appointmentForm.controls.window.enable();let l=this.data.appointment.time.split(" to "),d=this.windows.indexOf(this.windows.find(f=>f.startTimes.includes(l[0].trim())));this.appointmentForm.controls.window.setValue(d),this.populateTimes();let v=this.startTimes.indexOf(this.startTimes.find(f=>f==l[0].trim()));this.appointmentForm.controls.startsAt.setValue(v);let u=this.endTimes.indexOf(this.endTimes.find(f=>f==l[1].trim()));this.appointmentForm.controls.endsAt.setValue(u)})}populateTimes(){let e=this.appointmentForm.controls.window.value;e>=0?(this.startTimes=this.windows[e].startTimes,this.endTimes=this.windows[e].endTimes):(this.startTimes=[],this.endTimes=[])}updateEndTimes(){let e=this.appointmentForm.controls.window.value,i=this.appointmentForm.controls.startsAt.value;e>=0&&i>=0?(this.appointmentForm.controls.endsAt.enable(),this.endTimes=this.windows[e].endTimes.slice(i),this.appointmentForm.controls.endsAt.setValue(0)):(this.endTimes=[],this.appointmentForm.controls.endsAt.setValue(-1),this.appointmentForm.controls.endsAt.disable())}getAppointmentReady(){const e=this.appointmentForm.getRawValue();let i={appointmentId:this.data.appointment.appointmentId,time:this.startTimes[e.startsAt]+" to "+this.endTimes[e.endsAt]};for(let a of"title=meetingTitle patientId=patientId description=description employeeId=physician date=aptDate editedBy=patientId".split(" ")){let l=a.split("=");i[l[0]]=e[l[1]]}return i}acceptAppointment(){let e=this.data.appointment;e.editHistory="Accepted by "+this.nurseName+" (Nurse) on "+this.appointmentForm.getRawValue().aptDate,e.status="ACCEPTED",this.apptService.updateAppointment(e).subscribe(i=>{this.snackbar.open("Appointment Successfully Accepted !","",{duration:3e3}),this.dialogRef.close()})}editAppointment(e){if(this.mode="",""==e)return;let i=this.getAppointmentReady();i.editHistory="Edited by "+this.nurseName+" (Nurse) on "+this.appointmentForm.getRawValue().aptDate+" for reason '"+e+"'",i.status="ACCEPTED",this.apptService.updateAppointment(i).subscribe(a=>{this.snackbar.open("Appointment Successfully Updated !","",{duration:3e3}),this.dialogRef.close()})}cancelAppointment(e){if(this.mode="",""==e)return;let i=this.data.appointment;i.editHistory="Cancelled by "+this.nurseName+" (Nurse) on "+this.appointmentForm.getRawValue().aptDate+" for reason '"+e+"'",i.status="CANCELLED",this.apptService.updateAppointment(i).subscribe(a=>{this.snackbar.open("Appointment Successfully Cancelled !","",{duration:3e3}),this.dialogRef.close()})}close(){this.dialogRef.close()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(y.ux),t.Y36(m.uU),t.Y36(A.H),t.Y36(c.so),t.Y36(t.soG),t.Y36(r.qu))},n.\u0275cmp=t.Xpm({type:n,selectors:[["appointment-details"]],inputs:{data:"data"},decls:4,vars:3,consts:[[1,"example-card"],[3,"type","reason",4,"ngIf"],[3,"formGroup",4,"ngIf"],[3,"type","reason"],[3,"formGroup"],[1,"mb-4"],["for","meetingTitle",1,"form-label"],["type","text","formControlName","meetingTitle","id","meetingTitle",1,"form-control"],[4,"ngIf"],["for","description",1,"form-label"],["type","text","formControlName","description","id","description",1,"form-control"],[1,"row","mb-4"],[1,"col","col-md-8"],["for","physician",1,"form-label"],["formControlName","physician",1,"form-control",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","text-danger",4,"ngIf"],[1,"col","col-md-4"],["for","employeeId",1,"form-label"],["type","text","formControlName","employeeId","readonly","",1,"form-control"],["for","patient",1,"form-label"],["formControlName","patient",1,"form-control",3,"change"],["type","text","formControlName","patientId","readonly","",1,"form-control"],["for","aptDate",1,"form-label"],["type","date","formControlName","aptDate",1,"form-control",3,"min","max","change"],["class","mb-4",4,"ngIf"],["class","row mb-4 form-group",4,"ngIf"],["for","editHistory",1,"form-label"],["type","text","formControlName","editHistory","id","editHistory","readonly","readonly",1,"form-control"],[1,"row","text-center","form-group","mt-4"],[1,"col","col-md-12","col-sm-12"],["class","btn btn-success mb-2 me-3",3,"click",4,"ngIf"],["class","btn btn-primary mb-2 ms-3 me-3",3,"click",4,"ngIf"],["class","btn btn-danger mb-2 ms-3 me-3",3,"click",4,"ngIf"],[1,"btn","btn-warning","mb-2","ms-3",3,"click"],[1,"text-danger"],[3,"value"],["for","window",1,"form-label"],["formControlName","window",1,"form-control",3,"change"],[3,"value",4,"ngIf"],[1,"row","mb-4","form-group"],[1,"col","col-md-6","col-sm-12"],["for","startsAt",1,"form-label"],["formControlName","startsAt",1,"form-control",3,"change"],["for","endsAt",1,"form-label"],["formControlName","endsAt",1,"form-control"],[1,"btn","btn-success","mb-2","me-3",3,"click"],[1,"btn","btn-primary","mb-2","ms-3","me-3",3,"click"],[1,"btn","btn-danger","mb-2","ms-3","me-3",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"mat-card",0),t.YNc(1,pt,1,1,"ask-reason",1),t.YNc(2,dt,1,1,"ask-reason",1),t.YNc(3,Ut,52,15,"form",2),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf","cancel"===i.mode),t.xp6(1),t.Q6J("ngIf","edit"===i.mode),t.xp6(1),t.Q6J("ngIf",""===i.mode))},directives:[_.a8,m.O5,mt.p,r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,r.EJ,r.YN,r.Kr,m.sg],pipes:[m.gd],styles:["@media only screen and (max-width: 576px){a[_ngcontent-%COMP%]{font-size:small;margin:0%!important}.appointment[_ngcontent-%COMP%]{font-size:medium!important}mat-raised-button[_ngcontent-%COMP%]{font-size:medium}.appointmentTitle[_ngcontent-%COMP%]{font-size:small}.btn-success[_ngcontent-%COMP%]{margin:0%!important}.btn-warning[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%], .btn-danger[_ngcontent-%COMP%]{margin:5%!important}}@media only screen and (min-width: 577px){a[_ngcontent-%COMP%]{font-size:large}}"]}),n})();function kt(n,o){1&n&&(t.TgZ(0,"div"),t._uU(1,"FirstName cannot be blank "),t.qZA())}function Qt(n,o){if(1&n&&(t.TgZ(0,"div",54),t._uU(1),t.YNc(2,kt,2,0,"div",55),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",e.errorMessage," "),t.xp6(1),t.Q6J("ngIf",null==e.patientDetailsForm.controls.firstName.errors?null:e.patientDetailsForm.controls.firstName.errors.required)}}function Yt(n,o){1&n&&(t.TgZ(0,"div"),t._uU(1,"LastName cannot be blank"),t.qZA())}function Ot(n,o){if(1&n&&(t.TgZ(0,"div",54),t.YNc(1,Yt,2,0,"div",55),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.patientDetailsForm.controls.lastName.errors?null:e.patientDetailsForm.controls.lastName.errors.required)}}function Vt(n,o){1&n&&(t.TgZ(0,"div"),t._uU(1,"Email cannot be blank"),t.qZA())}function St(n,o){if(1&n&&(t.TgZ(0,"div",54),t.YNc(1,Vt,2,0,"div",55),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.patientDetailsForm.controls.email.errors?null:e.patientDetailsForm.controls.email.errors.required)}}function Et(n,o){1&n&&(t.TgZ(0,"div"),t._uU(1,"Date Of Birth cannot be blank"),t.qZA())}function Rt(n,o){if(1&n&&(t.TgZ(0,"div",54),t.YNc(1,Et,2,0,"div",55),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.patientDetailsForm.controls.dob.errors?null:e.patientDetailsForm.controls.dob.errors.required)}}function Ht(n,o){1&n&&(t.TgZ(0,"div"),t._uU(1," Phone No cannot be blank"),t.qZA())}function Lt(n,o){if(1&n&&(t.TgZ(0,"div",54),t.YNc(1,Ht,2,0,"div",55),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.patientDetailsForm.controls.phone.errors?null:e.patientDetailsForm.controls.phone.errors.required)}}function zt(n,o){1&n&&(t.TgZ(0,"div"),t._uU(1," Age cannot be blank"),t.qZA())}function Bt(n,o){if(1&n&&(t.TgZ(0,"div",54),t.YNc(1,zt,2,0,"div",55),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.patientDetailsForm.controls.age.errors?null:e.patientDetailsForm.controls.age.errors.required)}}function Gt(n,o){1&n&&(t.TgZ(0,"div"),t._uU(1," Gender cannot be blank"),t.qZA())}function Wt(n,o){if(1&n&&(t.TgZ(0,"div",54),t.YNc(1,Gt,2,0,"div",55),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.patientDetailsForm.controls.gender.errors?null:e.patientDetailsForm.controls.gender.errors.required)}}function jt(n,o){1&n&&(t.TgZ(0,"div"),t._uU(1," Race cannot be blank"),t.qZA())}function $t(n,o){if(1&n&&(t.TgZ(0,"div",54),t.YNc(1,jt,2,0,"div",55),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.patientDetailsForm.controls.race.errors?null:e.patientDetailsForm.controls.race.errors.required)}}function Xt(n,o){1&n&&(t.TgZ(0,"div"),t._uU(1," Ethnicity cannot be blank"),t.qZA())}function Kt(n,o){if(1&n&&(t.TgZ(0,"div",54),t.YNc(1,Xt,2,0,"div",55),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.patientDetailsForm.controls.ethnicity.errors?null:e.patientDetailsForm.controls.ethnicity.errors.required)}}function te(n,o){1&n&&(t.TgZ(0,"div"),t._uU(1," Language cannot be blank"),t.qZA())}function ee(n,o){if(1&n&&(t.TgZ(0,"div",54),t.YNc(1,te,2,0,"div",55),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.patientDetailsForm.controls.language.errors?null:e.patientDetailsForm.controls.language.errors.required)}}function ne(n,o){1&n&&(t.TgZ(0,"div"),t._uU(1," FirstName cannot be blank"),t.qZA())}function ie(n,o){if(1&n&&(t.TgZ(0,"div",54),t.YNc(1,ne,2,0,"div",55),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.patientDetailsForm.controls.nomineeFirstName.errors?null:e.patientDetailsForm.controls.nomineeFirstName.errors.required)}}function oe(n,o){1&n&&(t.TgZ(0,"div"),t._uU(1," LastName cannot be blank"),t.qZA())}function ae(n,o){if(1&n&&(t.TgZ(0,"div",54),t.YNc(1,oe,2,0,"div",55),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.patientDetailsForm.controls.nomineeLastName.errors?null:e.patientDetailsForm.controls.nomineeLastName.errors.required)}}function le(n,o){1&n&&(t.TgZ(0,"div"),t._uU(1," Email cannot be blank"),t.qZA())}function re(n,o){if(1&n&&(t.TgZ(0,"div",54),t.YNc(1,le,2,0,"div",55),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.patientDetailsForm.controls.nomineeEmail.errors?null:e.patientDetailsForm.controls.nomineeEmail.errors.required)}}function se(n,o){1&n&&(t.TgZ(0,"div"),t._uU(1," Phone cannot be blank"),t.qZA())}function me(n,o){if(1&n&&(t.TgZ(0,"div",54),t.YNc(1,se,2,0,"div",55),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.patientDetailsForm.controls.nomineePhone.errors?null:e.patientDetailsForm.controls.nomineePhone.errors.required)}}function pe(n,o){1&n&&(t.TgZ(0,"div"),t._uU(1," Relation cannot be blank"),t.qZA())}function de(n,o){if(1&n&&(t.TgZ(0,"div",54),t.YNc(1,pe,2,0,"div",55),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.patientDetailsForm.controls.relation.errors?null:e.patientDetailsForm.controls.relation.errors.required)}}function ce(n,o){1&n&&(t.TgZ(0,"div"),t._uU(1,"Height cannot be blank "),t.qZA())}function ue(n,o){if(1&n&&(t.TgZ(0,"div",54),t._uU(1),t.YNc(2,ce,2,0,"div",55),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",e.errorMessage," "),t.xp6(1),t.Q6J("ngIf",null==e.vitalDetailsForm.controls.height.errors?null:e.vitalDetailsForm.controls.height.errors.required)}}function ge(n,o){1&n&&(t.TgZ(0,"div"),t._uU(1,"weight cannot be blank"),t.qZA())}function _e(n,o){1&n&&(t.TgZ(0,"div"),t._uU(1,"Enter Valid Weight e.g.66.15"),t.qZA())}function fe(n,o){if(1&n&&(t.TgZ(0,"div",54),t.YNc(1,ge,2,0,"div",55),t.YNc(2,_e,2,0,"div",55),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.vitalDetailsForm.controls.weight.errors?null:e.vitalDetailsForm.controls.weight.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.vitalDetailsForm.controls.weight.errors?null:e.vitalDetailsForm.controls.weight.errors.pattern)}}function he(n,o){1&n&&(t.TgZ(0,"div"),t._uU(1,"Blood Pressure cannot be blank"),t.qZA())}function ve(n,o){if(1&n&&(t.TgZ(0,"div",54),t.YNc(1,he,2,0,"div",55),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.vitalDetailsForm.controls.bloodPressure.errors?null:e.vitalDetailsForm.controls.bloodPressure.errors.required)}}function be(n,o){1&n&&(t.TgZ(0,"div"),t._uU(1,"Body Temperature cannot be blank"),t.qZA())}function Te(n,o){if(1&n&&(t.TgZ(0,"div",54),t.YNc(1,be,2,0,"div",55),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.vitalDetailsForm.controls.bodyTemperature.errors?null:e.vitalDetailsForm.controls.bodyTemperature.errors.required)}}function Ze(n,o){1&n&&(t.TgZ(0,"div"),t._uU(1," Respiration Rate cannot be blank"),t.qZA())}function Ae(n,o){if(1&n&&(t.TgZ(0,"div",54),t.YNc(1,Ze,2,0,"div",55),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.vitalDetailsForm.controls.respirationRate.errors?null:e.vitalDetailsForm.controls.respirationRate.errors.required)}}function Ce(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",38)(1,"button",39),t.NdJ("click",function(){return t.CHM(e),t.oxw().editVitalSigns()}),t._uU(2,"Save"),t.qZA(),t.TgZ(3,"button",56),t.NdJ("click",function(){return t.CHM(e),t.oxw().deleteVitalDetails()}),t._uU(4,"Clear"),t.qZA(),t.TgZ(5,"button",40),t.NdJ("click",function(){return t.CHM(e),t.oxw().close()}),t._uU(6,"Close"),t.qZA()()}}let xe=(()=>{class n{constructor(e,i,a,l,d,v,u,f,jn){this.snackbar=e,this.datePipe=i,this.utilityService=a,this.vitalService=l,this.apptService=d,this.dialogRef=v,this.data=u,this.locale=f,this.formBuilder=jn,this.appointment=new it.u,this.demographics=new ot,this.nominee=new at,this.result=new rt,this.patient=new lt,this.physicians=[],this.patients=[],this.windows=[],this.startTimes=[],this.endTimes=[],this.employeeId="",this.cancelMode=!1,this.date=this.datePipe.transform(new Date,"yyyy-MM-dd");let Q=new Date;this.next3months=this.datePipe.transform(new Date(Q.setMonth(Q.getMonth()+3)),"yyyy-MM-dd"),this.aptId=u.appointmentId,this.email=u.emailId,this.user=JSON.parse(sessionStorage.getItem("user")),this.nurseName=this.user.title+". "+this.user.firstName+" "+this.user.lastName,this.vitalDetailsForm=this.formBuilder.group({vitalId:["",[r.kI.required]],height:["",[r.kI.required]],weight:["",[r.kI.required,r.kI.pattern("^[0-9]*.[0-9][0-9]$")]],bloodPressure:["",[r.kI.required]],bodyTemperature:["",[r.kI.required]],respirationRate:["",[r.kI.required]],patientId:["",[r.kI.required]]}),this.patientDetailsForm=this.formBuilder.group({firstName:["",[r.kI.required]],lastName:["",[r.kI.required]],email:["",[r.kI.required]],dob:["",[r.kI.required]],phone:["",[r.kI.required]],age:["",[r.kI.required]],gender:["",[r.kI.required]],race:["",[r.kI.required]],ethnicity:["",[r.kI.required]],language:["",[r.kI.required]],nomineeFirstName:["",[r.kI.required]],nomineeLastName:["",[r.kI.required]],nomineeEmail:["",[r.kI.required]],nomineePhone:["",[r.kI.required]],relation:["",[r.kI.required]]})}get today(){return(0,m.p6)(new Date,"yyyy-MM-dd",this.locale)}ngOnInit(){this.getPatientByEmail()}f(e){return this.appointmentForm.controls[e]}getPatientByEmail(){this.utilityService.getPatientById(this.data.appointment.patientId).subscribe(e=>{this.patient=e,this.patientId=this.patient.patientId,this.demographics=e.demographics,this.nominee=e.nominee,this.getVitalByAptId()})}getVitalByAptId(){this.vitalService.getVitalByApptId(this.data.appointment.appointmentId).subscribe(e=>{null!=e&&(this.result=e)})}editPatientDetails(){this.patient.demographics=this.demographics,this.patient.nominee=this.nominee,this.utilityService.updatePatientDetails(this.patient).subscribe(e=>{this.snackbar.open("Patient Details Successfully Updated !","",{duration:3e3}),this.dialogRef.close()})}close(){this.dialogRef.close()}editVitalSigns(){this.vitalDetailsForm.value.vitalId=this.result.vitalId,this.vitalDetailsForm.value.patientId=this.data.appointment.patientId,this.vitalDetailsForm.value.aptId=this.data.appointment.appointmentId,this.vitalService.updateVitals(this.vitalDetailsForm.value).subscribe(e=>{this.data.appointment.status="ATTENDED",this.apptService.updateAppointment(this.data.appointment).subscribe(i=>{this.data.appointment=i}),this.snackbar.open("Vital Signs Successfully Saved !","",{duration:3e3}),this.dialogRef.close()})}deleteVitalDetails(){this.vitalService.deleteVitals(this.result.vitalId).subscribe(e=>{this.snackbar.open("Vital Signs Deleted","",{duration:3e3}),this.dialogRef.close()})}validateHeight(){this.vitalDetailsForm.value.height>250&&(this.errorMessage="Height cannot be more than 250 cm")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(y.ux),t.Y36(m.uU),t.Y36(C.t),t.Y36(st.V),t.Y36(A.H),t.Y36(c.so),t.Y36(c.WI),t.Y36(t.soG),t.Y36(r.qu))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-visit-details"]],decls:131,vars:44,consts:[["label","Appointment Details"],[3,"data"],["label","Patient Details"],[1,"example-card"],["autofocus","off",3,"formGroup"],[1,"mb-3"],["for","firstName",1,"form-label"],["type","text","formControlName","firstName","id","firstName",1,"form-control",3,"ngModel","ngModelChange"],["class","alert text-danger",4,"ngIf"],["for","lastName",1,"form-label"],["type","text","formControlName","lastName","id","lastName",1,"form-control",3,"ngModel","ngModelChange"],["for","email",1,"form-label"],["type","email","formControlName","email","id","email",1,"form-control",3,"ngModel","ngModelChange"],["for","dob",1,"form-label"],["type","date","formControlName","dob","id","dob",1,"form-control",3,"ngModel","ngModelChange"],["for","phone",1,"form-label"],["type","text","formControlName","phone","id","phone",1,"form-control",3,"ngModel","ngModelChange"],["for","age",1,"form-label"],["type","text","formControlName","age","id","age",1,"form-control",3,"ngModel","ngModelChange"],["for","gender",1,"form-label"],["type","text","formControlName","gender","id","gender",1,"form-control",3,"ngModel","ngModelChange"],["for","race",1,"form-label"],["type","text","formControlName","race","id","race",1,"form-control",3,"ngModel","ngModelChange"],["for","ethnicity",1,"form-label"],["type","text","formControlName","ethnicity","id","ethnicity",1,"form-control",3,"ngModel","ngModelChange"],["for","language",1,"form-label"],["type","text","formControlName","language","id","language",1,"form-control",3,"ngModel","ngModelChange"],["for","nomineeFirstName",1,"form-label"],["type","text","formControlName","nomineeFirstName","id","nomineeFirstName",1,"form-control",3,"ngModel","ngModelChange"],["for","nomineeLastName",1,"form-label"],["type","text","formControlName","nomineeLastName","id","nomineeLastName",1,"form-control",3,"ngModel","ngModelChange"],["for","nomineeEmail",1,"form-label"],["type","text","formControlName","nomineeEmail","id","nomineeEmail",1,"form-control",3,"ngModel","ngModelChange"],["for","nomineePhone",1,"form-label"],["type","text","formControlName","nomineePhone","id","nomineePhone",1,"form-control",3,"ngModel","ngModelChange"],["for","relation",1,"form-label"],["type","text","formControlName","relation","id","relation",1,"form-control",3,"ngModel","ngModelChange"],[1,"row","form-group","text-center","mt-3"],[1,"col","col-md-12","text-center"],[1,"btn","btn-success","mb-2","me-3",3,"click"],[1,"btn","btn-warning","mb-2","ms-3",3,"click"],["label","Vital Sign Details"],["for","height",1,"form-label"],["type","number","formControlName","height","id","height","min","1","max","250",1,"form-control",3,"ngModel","ngModelChange","blur"],["for","description",1,"form-label"],["type","text","formControlName","weight","id","weight",1,"form-control",3,"ngModel","ngModelChange"],["for","bloodPressure",1,"form-label"],["type","text","formControlName","bloodPressure","id","bloodPressure",1,"form-control",3,"ngModel","ngModelChange"],["for","bodyTemperature",1,"form-label"],["type","text","formControlName","bodyTemperature","id","bodyTemperature",1,"form-control",3,"ngModel","ngModelChange"],["for","respirationRate",1,"form-label"],["type","text","formControlName","respirationRate","id","respirationRate",1,"form-control",3,"ngModel","ngModelChange"],[1,"row","form-group","mt-3","text-center"],["class","col col-md-12 text-center",4,"ngIf"],[1,"alert","text-danger"],[4,"ngIf"],[1,"btn","btn-danger","mb-2","ms-3","me-3",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"mat-tab-group")(1,"mat-tab",0),t._UZ(2,"appointment-details",1),t.qZA(),t.TgZ(3,"mat-tab",2)(4,"mat-card",3)(5,"mat-card-content")(6,"form",4)(7,"mat-card-content")(8,"h3")(9,"b"),t._uU(10,"Personal Details"),t.qZA()(),t.TgZ(11,"div")(12,"div",5)(13,"label",6),t._uU(14,"FirstName"),t.qZA(),t.TgZ(15,"input",7),t.NdJ("ngModelChange",function(l){return i.patient.firstName=l}),t.qZA(),t.YNc(16,Qt,3,2,"div",8),t.qZA(),t.TgZ(17,"div",5)(18,"label",9),t._uU(19,"LastName"),t.qZA(),t.TgZ(20,"input",10),t.NdJ("ngModelChange",function(l){return i.patient.lastName=l}),t.qZA(),t.YNc(21,Ot,2,1,"div",8),t.qZA(),t.TgZ(22,"div",5)(23,"label",11),t._uU(24,"Email"),t.qZA(),t.TgZ(25,"input",12),t.NdJ("ngModelChange",function(l){return i.patient.email=l}),t.qZA(),t.YNc(26,St,2,1,"div",8),t.qZA(),t.TgZ(27,"div",5)(28,"label",13),t._uU(29,"Date Of Birth"),t.qZA(),t.TgZ(30,"input",14),t.NdJ("ngModelChange",function(l){return i.patient.birthdate=l}),t.qZA(),t.YNc(31,Rt,2,1,"div",8),t.qZA(),t.TgZ(32,"div",5)(33,"label",15),t._uU(34,"Phone No"),t.qZA(),t.TgZ(35,"input",16),t.NdJ("ngModelChange",function(l){return i.patient.phone=l}),t.qZA(),t.YNc(36,Lt,2,1,"div",8),t.qZA(),t.TgZ(37,"div",5)(38,"label",17),t._uU(39,"Age"),t.qZA(),t.TgZ(40,"input",18),t.NdJ("ngModelChange",function(l){return i.demographics.age=l}),t.qZA(),t.YNc(41,Bt,2,1,"div",8),t.qZA(),t.TgZ(42,"div",5)(43,"label",19),t._uU(44,"Gender"),t.qZA(),t.TgZ(45,"input",20),t.NdJ("ngModelChange",function(l){return i.demographics.gender=l}),t.qZA(),t.YNc(46,Wt,2,1,"div",8),t.qZA(),t.TgZ(47,"h3")(48,"b"),t._uU(49,"Demographic Details"),t.qZA()(),t.TgZ(50,"div",5)(51,"label",21),t._uU(52,"Race"),t.qZA(),t.TgZ(53,"input",22),t.NdJ("ngModelChange",function(l){return i.demographics.race=l}),t.qZA(),t.YNc(54,$t,2,1,"div",8),t.qZA(),t.TgZ(55,"div",5)(56,"label",23),t._uU(57,"Ethnicity"),t.qZA(),t.TgZ(58,"input",24),t.NdJ("ngModelChange",function(l){return i.demographics.ethnicity=l}),t.qZA(),t.YNc(59,Kt,2,1,"div",8),t.qZA(),t.TgZ(60,"div",5)(61,"label",25),t._uU(62,"Language"),t.qZA(),t.TgZ(63,"input",26),t.NdJ("ngModelChange",function(l){return i.demographics.language=l}),t.qZA(),t.YNc(64,ee,2,1,"div",8),t.qZA(),t.TgZ(65,"h3")(66,"b"),t._uU(67,"Nominee Details"),t.qZA()(),t.TgZ(68,"div",5)(69,"label",27),t._uU(70,"FirstName"),t.qZA(),t.TgZ(71,"input",28),t.NdJ("ngModelChange",function(l){return i.nominee.firstName=l}),t.qZA(),t.YNc(72,ie,2,1,"div",8),t.qZA(),t.TgZ(73,"div",5)(74,"label",29),t._uU(75,"LastName"),t.qZA(),t.TgZ(76,"input",30),t.NdJ("ngModelChange",function(l){return i.nominee.lastName=l}),t.qZA(),t.YNc(77,ae,2,1,"div",8),t.qZA(),t.TgZ(78,"div",5)(79,"label",31),t._uU(80,"Email"),t.qZA(),t.TgZ(81,"input",32),t.NdJ("ngModelChange",function(l){return i.nominee.email=l}),t.qZA(),t.YNc(82,re,2,1,"div",8),t.qZA(),t.TgZ(83,"div",5)(84,"label",33),t._uU(85,"Phone"),t.qZA(),t.TgZ(86,"input",34),t.NdJ("ngModelChange",function(l){return i.nominee.phone=l}),t.qZA(),t.YNc(87,me,2,1,"div",8),t.qZA(),t.TgZ(88,"div",5)(89,"label",35),t._uU(90,"Relation"),t.qZA(),t.TgZ(91,"input",36),t.NdJ("ngModelChange",function(l){return i.nominee.relation=l}),t.qZA(),t.YNc(92,de,2,1,"div",8),t.qZA()()(),t.TgZ(93,"div",37)(94,"div",38)(95,"button",39),t.NdJ("click",function(){return i.editPatientDetails()}),t._uU(96,"Update"),t.qZA(),t.TgZ(97,"button",40),t.NdJ("click",function(){return i.close()}),t._uU(98,"Close"),t.qZA()()()()()()(),t.TgZ(99,"mat-tab",41)(100,"mat-card",3)(101,"form",4)(102,"mat-card-content")(103,"div")(104,"div",5)(105,"label",42),t._uU(106,"Height in cm"),t.qZA(),t.TgZ(107,"input",43),t.NdJ("ngModelChange",function(l){return i.result.height=l})("blur",function(){return i.validateHeight()}),t.qZA(),t.YNc(108,ue,3,2,"div",8),t.qZA(),t.TgZ(109,"div",5)(110,"label",44),t._uU(111,"Weight in Kg"),t.qZA(),t.TgZ(112,"input",45),t.NdJ("ngModelChange",function(l){return i.result.weight=l}),t.qZA(),t.YNc(113,fe,3,2,"div",8),t.qZA(),t.TgZ(114,"div",5)(115,"label",46),t._uU(116,"Blood Pressure in mm Hg"),t.qZA(),t.TgZ(117,"input",47),t.NdJ("ngModelChange",function(l){return i.result.bloodPressure=l}),t.qZA(),t.YNc(118,ve,2,1,"div",8),t.qZA(),t.TgZ(119,"div",5)(120,"label",48),t._uU(121,"Body Temperature in Fahrenheit"),t.qZA(),t.TgZ(122,"input",49),t.NdJ("ngModelChange",function(l){return i.result.bodyTemperature=l}),t.qZA(),t.YNc(123,Te,2,1,"div",8),t.qZA(),t.TgZ(124,"div",5)(125,"label",50),t._uU(126,"Respiration Rate in BPM"),t.qZA(),t.TgZ(127,"input",51),t.NdJ("ngModelChange",function(l){return i.result.respirationRate=l}),t.qZA(),t.YNc(128,Ae,2,1,"div",8),t.qZA()()(),t.TgZ(129,"div",52),t.YNc(130,Ce,7,0,"div",53),t.qZA()()()()()),2&e&&(t.xp6(2),t.Q6J("data",i.data),t.xp6(4),t.Q6J("formGroup",i.patientDetailsForm),t.xp6(9),t.Q6J("ngModel",i.patient.firstName),t.xp6(1),t.Q6J("ngIf",i.patientDetailsForm.controls.firstName.touched&&i.patientDetailsForm.controls.firstName.invalid),t.xp6(4),t.Q6J("ngModel",i.patient.lastName),t.xp6(1),t.Q6J("ngIf",i.patientDetailsForm.controls.lastName.touched&&i.patientDetailsForm.controls.lastName.invalid),t.xp6(4),t.Q6J("ngModel",i.patient.email),t.xp6(1),t.Q6J("ngIf",i.patientDetailsForm.controls.email.touched&&i.patientDetailsForm.controls.email.invalid),t.xp6(4),t.Q6J("ngModel",i.patient.birthdate),t.xp6(1),t.Q6J("ngIf",i.patientDetailsForm.controls.dob.touched&&i.patientDetailsForm.controls.dob.invalid),t.xp6(4),t.Q6J("ngModel",i.patient.phone),t.xp6(1),t.Q6J("ngIf",i.patientDetailsForm.controls.phone.touched&&i.patientDetailsForm.controls.phone.invalid),t.xp6(4),t.Q6J("ngModel",i.demographics.age),t.xp6(1),t.Q6J("ngIf",i.patientDetailsForm.controls.age.touched&&i.patientDetailsForm.controls.age.invalid),t.xp6(4),t.Q6J("ngModel",i.demographics.gender),t.xp6(1),t.Q6J("ngIf",i.patientDetailsForm.controls.gender.touched&&i.patientDetailsForm.controls.gender.invalid),t.xp6(7),t.Q6J("ngModel",i.demographics.race),t.xp6(1),t.Q6J("ngIf",i.patientDetailsForm.controls.race.touched&&i.patientDetailsForm.controls.race.invalid),t.xp6(4),t.Q6J("ngModel",i.demographics.ethnicity),t.xp6(1),t.Q6J("ngIf",i.patientDetailsForm.controls.ethnicity.touched&&i.patientDetailsForm.controls.ethnicity.invalid),t.xp6(4),t.Q6J("ngModel",i.demographics.language),t.xp6(1),t.Q6J("ngIf",i.patientDetailsForm.controls.language.touched&&i.patientDetailsForm.controls.language.invalid),t.xp6(7),t.Q6J("ngModel",i.nominee.firstName),t.xp6(1),t.Q6J("ngIf",i.patientDetailsForm.controls.nomineeFirstName.touched&&i.patientDetailsForm.controls.nomineeFirstName.invalid),t.xp6(4),t.Q6J("ngModel",i.nominee.lastName),t.xp6(1),t.Q6J("ngIf",i.patientDetailsForm.controls.nomineeLastName.touched&&i.patientDetailsForm.controls.nomineeLastName.invalid),t.xp6(4),t.Q6J("ngModel",i.nominee.email),t.xp6(1),t.Q6J("ngIf",i.patientDetailsForm.controls.nomineeEmail.touched&&i.patientDetailsForm.controls.nomineeEmail.invalid),t.xp6(4),t.Q6J("ngModel",i.nominee.phone),t.xp6(1),t.Q6J("ngIf",i.patientDetailsForm.controls.nomineePhone.touched&&i.patientDetailsForm.controls.nomineePhone.invalid),t.xp6(4),t.Q6J("ngModel",i.nominee.relation),t.xp6(1),t.Q6J("ngIf",i.patientDetailsForm.controls.relation.touched&&i.patientDetailsForm.controls.relation.invalid),t.xp6(9),t.Q6J("formGroup",i.vitalDetailsForm),t.xp6(6),t.Q6J("ngModel",i.result.height),t.xp6(1),t.Q6J("ngIf",i.vitalDetailsForm.controls.height.touched&&i.vitalDetailsForm.controls.height.invalid),t.xp6(4),t.Q6J("ngModel",i.result.weight),t.xp6(1),t.Q6J("ngIf",i.vitalDetailsForm.controls.weight.touched&&i.vitalDetailsForm.controls.weight.invalid),t.xp6(4),t.Q6J("ngModel",i.result.bloodPressure),t.xp6(1),t.Q6J("ngIf",i.vitalDetailsForm.controls.bloodPressure.touched&&i.vitalDetailsForm.controls.bloodPressure.invalid),t.xp6(4),t.Q6J("ngModel",i.result.bodyTemperature),t.xp6(1),t.Q6J("ngIf",i.vitalDetailsForm.controls.bodyTemperature.touched&&i.vitalDetailsForm.controls.bodyTemperature.invalid),t.xp6(4),t.Q6J("ngModel",i.result.respirationRate),t.xp6(1),t.Q6J("ngIf",i.vitalDetailsForm.controls.respirationRate.touched&&i.vitalDetailsForm.controls.respirationRate.invalid),t.xp6(2),t.Q6J("ngIf",0!=i.result.vitalId))},directives:[Z.SP,Z.uX,Ft,_.a8,_.dn,r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,m.O5,r.wV,r.qQ,r.Fd],styles:["@media only screen and (max-width: 576px){a[_ngcontent-%COMP%]{font-size:small;margin:0%!important}.appointment[_ngcontent-%COMP%]{font-size:medium!important}mat-raised-button[_ngcontent-%COMP%]{font-size:medium}.appointmentTitle[_ngcontent-%COMP%]{font-size:small}.btn-success[_ngcontent-%COMP%]{margin:0%!important}.btn-warning[_ngcontent-%COMP%], .btn-danger[_ngcontent-%COMP%]{margin:5%!important}}@media only screen and (min-width: 577px){a[_ngcontent-%COMP%]{font-size:large}}"]}),n})();var M=s(7423),I=s(4566),D=s(7322),F=s(7531);function Ne(n,o){if(1&n&&t._UZ(0,"full-calendar",29),2&n){const e=t.oxw();t.Q6J("options",e.calendarOptions)}}function ye(n,o){1&n&&(t.TgZ(0,"th",30),t._uU(1," Title "),t.qZA())}function De(n,o){if(1&n&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.hij(" ",e.title," ")}}function we(n,o){1&n&&(t.TgZ(0,"th",30),t._uU(1," Physician "),t.qZA())}function qe(n,o){if(1&n&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.hij(" ",e.employeeName," ")}}function Me(n,o){1&n&&(t.TgZ(0,"th",30),t._uU(1," Patient "),t.qZA())}function Ie(n,o){if(1&n&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.hij(" ",e.patientName," ")}}function Pe(n,o){1&n&&(t.TgZ(0,"th",30),t._uU(1," Date "),t.qZA())}function Je(n,o){if(1&n&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.hij("",e.date," ")}}function Ue(n,o){1&n&&(t.TgZ(0,"th",30),t._uU(1," Time "),t.qZA())}function Fe(n,o){if(1&n&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.hij("",e.time," ")}}function ke(n,o){1&n&&(t.TgZ(0,"th",30),t._uU(1," Status "),t.qZA())}function Qe(n,o){if(1&n&&(t.TgZ(0,"td",32),t._uU(1),t.ALo(2,"titlecase"),t.qZA()),2&n){const e=o.$implicit,i=t.oxw();t.Q6J("ngClass",i.getColor(e.status)),t.xp6(1),t.hij(" ",t.lcZ(2,2,e.status.replace("_"," "))," ")}}function Ye(n,o){1&n&&(t.TgZ(0,"th",30),t._uU(1," Action "),t.qZA())}function Oe(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"td",31)(1,"button",33),t.NdJ("click",function(){const l=t.CHM(e).$implicit;return t.oxw().viewDetails(l)}),t._uU(2,"View"),t.qZA()()}}function Ve(n,o){1&n&&t._UZ(0,"tr",34)}const Se=function(n){return{todaysAppointment:n}};function Ee(n,o){if(1&n&&t._UZ(0,"tr",35),2&n){const e=o.$implicit,i=t.oxw();t.Q6J("ngClass",t.VKq(1,Se,e.date==i.date))}}function Re(n,o){if(1&n&&(t.TgZ(0,"tr",36)(1,"td",37),t._uU(2),t.qZA()()),2&n){t.oxw();const e=t.MAs(17);t.xp6(2),t.hij('No data matching the filter "',e.value,'" ')}}const He=function(){return[5,10,25,100]};let Le=(()=>{class n{constructor(e,i,a,l){this.datePipe=e,this.appointmentService=i,this.utilityService=a,this.dialog=l,this.displayedColumns=["title","employeeName","patientName","date","time","status","action"],this.todaysAppointment="todaysAppointment",this.appointments=[],this.calendarAppointments=[],this.allEmployeeNames=[],this.allPatientNames=[],this.user=JSON.parse(sessionStorage.getItem("user")),this.date=this.datePipe.transform(new Date,"yyyy-MM-dd")}createCalender(){this.calendarOptions={headerToolbar:{left:"prev,next today",center:"title",right:"dayGrid,dayGridMonth,timeGridWeek"},height:1100,initialView:"timeGridWeek",hiddenDays:[0],allDaySlot:!1,eventTimeFormat:{hour:"2-digit",minute:"2-digit",hour12:!1},eventSources:[{events:[],color:"indigo",textColor:"white",borderColor:"black"}]}}ngOnInit(){this.getCalendarAppointments(),this.getAllAppointments()}getCalendarAppointments(){this.appointmentService.getCalendarAppointments().subscribe(e=>{this.calendarAppointments=null!==e?e:[],this.createCalender(),this.calendarOptions.eventSources[0].events=this.calendarAppointments,this.initialise=!0})}getAllAppointments(){this.appointmentService.getAllAppointmentDetails().subscribe(e=>{this.utilityService.getAllPhysicians().subscribe(i=>{this.allEmployeeNames=i,this.utilityService.getAllPatientNames().subscribe(a=>{this.allPatientNames=a;for(let l of e)l.employeeName=this.allEmployeeNames.find(d=>d.employeeId==l.employeeId).name,l.patientName=this.allPatientNames.find(d=>d.patientId==l.patientId).name;this.dataSource=new p.by(e),null!=this.dataSource&&(this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort)})})})}viewDetails(e){const i=new c.vA;i.disableClose=!0,i.autoFocus=!0,this.dialog.open(xe,{minWidth:"60vw",minHeight:"70vh",data:{appointment:e,user:this.user,employeeNames:this.allEmployeeNames,patientNames:this.allPatientNames}}).afterClosed().subscribe(l=>{this.getAllAppointments(),this.getCalendarAppointments()})}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}bookAppointment(){const e=new c.vA;e.disableClose=!0,e.autoFocus=!0,this.dialog.open(nt,{minWidth:"60vw",minHeight:"70vh",data:{user:this.user,employeeNames:this.allEmployeeNames,patientNames:this.allPatientNames}}).afterClosed().subscribe(a=>{this.getAllAppointments(),this.getCalendarAppointments()})}getColor(e){return{"text-warning":"PENDING"===e,"text-danger":"CANCELLED"===e,"text-success":"ACCEPTED"===e,"text-primary":"ATTENDED"===e,"text-secondary":"EXPIRED"===e||"NOT_ATTENDED"===e}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(m.uU),t.Y36(A.H),t.Y36(C.t),t.Y36(c.uw))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-appointment"]],viewQuery:function(e,i){if(1&e&&(t.Gf(x.NW,5),t.Gf(U.YE,5)),2&e){let a;t.iGM(a=t.CRH())&&(i.paginator=a.first),t.iGM(a=t.CRH())&&(i.sort=a.first)}},decls:45,vars:6,consts:[[1,"content","mat-elevation-z8"],[1,"card-wrapper"],[1,"row"],[2,"display","flex","margin","0.5em 0em","align-items","center","justify-items","flex-start","gap","1em"],[1,"appointment","text-dark","d-inline-block",2,"flex","8","margin","0","padding","0","font-size","20px"],[2,"flex","1","margin","0","padding","0em 0.5em"],["mat-raised-button","","color","primary",3,"click"],["label","Calender"],["style","padding: 1em 0.5em;",3,"options",4,"ngIf"],["label","Appointments"],["appearance","standard"],["matInput","","placeholder","Ex. Patient Name",3,"keyup"],["input",""],[1,"mat-elevation-z8"],["mat-table","","matSort","",1,"table",3,"dataSource"],["matColumnDef","title"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","employeeName"],["matColumnDef","patientName"],["matColumnDef","date"],["matColumnDef","time"],["matColumnDef","status"],["mat-cell","",3,"ngClass",4,"matCellDef"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"ngClass",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],[2,"padding","1em 0.5em",3,"options"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-cell","",3,"ngClass"],[1,"btn","btn-success",3,"click"],["mat-header-row",""],["mat-row","",3,"ngClass"],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),t._uU(5," Appointments "),t.qZA(),t.TgZ(6,"div",5)(7,"button",6),t.NdJ("click",function(){return i.bookAppointment()}),t._uU(8,"Book an Appointment"),t.qZA()()(),t.TgZ(9,"mat-tab-group")(10,"mat-tab",7),t.YNc(11,Ne,1,1,"full-calendar",8),t.qZA(),t.TgZ(12,"mat-tab",9)(13,"mat-form-field",10)(14,"mat-label"),t._uU(15,"Search"),t.qZA(),t.TgZ(16,"input",11,12),t.NdJ("keyup",function(l){return i.applyFilter(l)}),t.qZA()(),t.TgZ(18,"div",13)(19,"table",14),t.ynx(20,15),t.YNc(21,ye,2,0,"th",16),t.YNc(22,De,2,1,"td",17),t.BQk(),t.ynx(23,18),t.YNc(24,we,2,0,"th",16),t.YNc(25,qe,2,1,"td",17),t.BQk(),t.ynx(26,19),t.YNc(27,Me,2,0,"th",16),t.YNc(28,Ie,2,1,"td",17),t.BQk(),t.ynx(29,20),t.YNc(30,Pe,2,0,"th",16),t.YNc(31,Je,2,1,"td",17),t.BQk(),t.ynx(32,21),t.YNc(33,Ue,2,0,"th",16),t.YNc(34,Fe,2,1,"td",17),t.BQk(),t.ynx(35,22),t.YNc(36,ke,2,0,"th",16),t.YNc(37,Qe,3,4,"td",23),t.BQk(),t.ynx(38,24),t.YNc(39,Ye,2,0,"th",16),t.YNc(40,Oe,3,0,"td",17),t.BQk(),t.YNc(41,Ve,1,0,"tr",25),t.YNc(42,Ee,1,3,"tr",26),t.YNc(43,Re,3,1,"tr",27),t.qZA(),t._UZ(44,"mat-paginator",28),t.qZA()()()()()()),2&e&&(t.xp6(11),t.Q6J("ngIf",i.initialise),t.xp6(8),t.Q6J("dataSource",i.dataSource),t.xp6(22),t.Q6J("matHeaderRowDef",i.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(5,He)))},directives:[M.lW,Z.SP,Z.uX,m.O5,I.woE,D.KE,D.hX,F.Nt,p.BZ,p.w1,p.fO,p.ge,p.Dz,p.ev,m.mk,p.as,p.XQ,p.nj,p.Gk,p.Ee,x.NW],pipes:[m.rS],styles:["mat-toolbar[_ngcontent-%COMP%]{background:#004a9f;color:#fff}table[_ngcontent-%COMP%]{width:98%;margin:1%;padding:0}mat-paginator[_ngcontent-%COMP%]{font-size:11.5pt}mat-sidenav[_ngcontent-%COMP%]{margin:16px;width:200px;border-right:none;background:#002b5c;color:#fff;border-radius:10px;padding:16px;text-align:center}.content[_ngcontent-%COMP%]{height:calc(100vh - 130px);border-radius:10px;margin:16px 16px 16px 32px;padding:16px;overflow:auto}mat-sidenav-container[_ngcontent-%COMP%]{height:calc(100vh - 100px)}.menu-button[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:flex-start;font-size:1rem}.avatar[_ngcontent-%COMP%]{margin-top:16px;width:100px;height:100px;border-radius:50%}.name[_ngcontent-%COMP%]{margin-top:8px;font-weight:400}.designation[_ngcontent-%COMP%]{margin-top:2px;font-size:.9rem;color:#d3d3d3}mat-divider[_ngcontent-%COMP%]{margin-top:16px;margin-bottom:16px;background-color:#ffffff80}.logout[_ngcontent-%COMP%]{font-size:medium}.flexExpand[_ngcontent-%COMP%]{flex:1 1 auto}.todaysAppointment[_ngcontent-%COMP%]{background-color:#fafad2}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{font-size:11pt;vertical-align:middle;-webkit-user-select:none;user-select:none}th[_ngcontent-%COMP%]{font-weight:700}  .mat-tab-label .mat-tab-label-content{font-size:medium}@media only screen and (max-width: 576px){a[_ngcontent-%COMP%]{font-size:small;margin:0%!important}.appointment[_ngcontent-%COMP%]{font-size:medium!important}mat-raised-button[_ngcontent-%COMP%]{font-size:medium}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{font-size:x-small!important}.btn-success[_ngcontent-%COMP%]{font-size:x-small}}@media only screen and (min-width: 577px){a[_ngcontent-%COMP%]{font-size:large}}"]}),n})();var ze=s(655),w=s(2638),Be=s(1005),Ge=s(9300),P=s(4987),We=s(5113),je=s(4594),$e=s(5245),Xe=s(4834);function Ke(n,o){1&n&&(t.TgZ(0,"mat-icon"),t._uU(1," menu "),t.qZA())}function tn(n,o){1&n&&(t.TgZ(0,"mat-icon"),t._uU(1," close "),t.qZA())}function en(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",18),t.NdJ("click",function(){return t.CHM(e),t.oxw(),t.MAs(12).toggle()}),t.YNc(1,Ke,2,0,"mat-icon",19),t.YNc(2,tn,2,0,"mat-icon",19),t.qZA()}if(2&n){t.oxw();const e=t.MAs(12);t.xp6(1),t.Q6J("ngIf",!e.opened),t.xp6(1),t.Q6J("ngIf",e.opened)}}const q=function(){return{exact:!0}};function nn(n,o){1&n&&(t.TgZ(0,"a",20),t._uU(1,"Appointments"),t.qZA()),2&n&&t.Q6J("routerLinkActiveOptions",t.DdM(1,q))}function on(n,o){1&n&&(t.TgZ(0,"a",21),t._uU(1,"Notes"),t.qZA()),2&n&&t.Q6J("routerLinkActiveOptions",t.DdM(1,q))}function an(n,o){1&n&&(t.TgZ(0,"a",22),t._uU(1,"Visit Report"),t.qZA()),2&n&&t.Q6J("routerLinkActiveOptions",t.DdM(1,q))}function ln(n,o){1&n&&(t.TgZ(0,"a",23),t._uU(1,"Profile"),t.qZA()),2&n&&t.Q6J("routerLinkActiveOptions",t.DdM(1,q))}function rn(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",24),t.NdJ("click",function(){return t.CHM(e),t.oxw().updateProfile()}),t.TgZ(1,"mat-icon",17),t._uU(2,"account_circle"),t.qZA(),t.TgZ(3,"span"),t._uU(4,"Profile"),t.qZA()()}}function sn(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",25),t.NdJ("click",function(){return t.CHM(e),t.oxw().updateProfile()}),t.TgZ(1,"mat-icon",17),t._uU(2,"home"),t.qZA(),t.TgZ(3,"span"),t._uU(4,"Home"),t.qZA()()}}function mn(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(){return t.CHM(e),t.oxw().updateProfile()}),t.TgZ(1,"mat-icon",17),t._uU(2,"note"),t.qZA(),t.TgZ(3,"span"),t._uU(4,"Note"),t.qZA()()}}function pn(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",27),t.NdJ("click",function(){return t.CHM(e),t.oxw().updateProfile()}),t.TgZ(1,"mat-icon",17),t._uU(2,"report"),t.qZA(),t.TgZ(3,"span"),t._uU(4,"Visit Report"),t.qZA()()}}let b=class{constructor(o,e){this.observer=o,this.router=e,this.todaysAppointment="todaysAppointment",this.activeRouting="activeRouting",this.showProfile=!0,this.user=JSON.parse(sessionStorage.getItem("user"))}ngOnInit(){730734381===this.user.password&&setTimeout(()=>{alert("Please update your password !")},500),this.observer.observe(["(max-width: 800px)"]).pipe((0,Be.g)(1),(0,P.t)(this)).subscribe(o=>{o.matches?(this.sidenav.mode="over",this.sidenav.close()):(this.sidenav.mode="side",this.sidenav.open())}),this.router.events.pipe((0,P.t)(this),(0,Ge.h)(o=>o instanceof g.m2)).subscribe(()=>{"over"===this.sidenav.mode&&this.sidenav.close()})}updateProfile(){this.showProfile=!this.showProfile}logout(){sessionStorage.clear(),this.router.navigate(["/login"])}};function dn(n,o){if(1&n&&(t.TgZ(0,"option",9),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",e.email),t.xp6(1),t.Oqu(e.name)}}function cn(n,o){1&n&&(t.TgZ(0,"div",23),t._uU(1,"Receiver cannot be empty"),t.qZA())}function un(n,o){1&n&&(t.TgZ(0,"div"),t._uU(1,"Message cannot be blank"),t.qZA())}function gn(n,o){if(1&n&&(t.TgZ(0,"div",23),t.YNc(1,un,2,0,"div",24),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.noteForm.controls.message.errors?null:e.noteForm.controls.message.errors.required)}}b.\u0275fac=function(o){return new(o||b)(t.Y36(We.Yg),t.Y36(g.F0))},b.\u0275cmp=t.Xpm({type:b,selectors:[["app-dashboard"]],viewQuery:function(o,e){if(1&o&&t.Gf(w.JX,5),2&o){let i;t.iGM(i=t.CRH())&&(e.sidenav=i.first)}},decls:31,vars:10,consts:[[1,"mat-elevation-z8"],["mat-icon-button","",3,"click",4,"ngIf"],["style","margin-left: 20%;text-decoration: none;","routerLink","/nurse/dashboard/appointment","routerLinkActive","activeRouting",3,"routerLinkActiveOptions",4,"ngIf"],["style","margin-left: 5%;text-decoration: none;","routerLink","/nurse/dashboard/notes","routerLinkActive","activeRouting",3,"routerLinkActiveOptions",4,"ngIf"],["style","margin-left: 5%;text-decoration: none;","routerLink","/nurse/dashboard/visit-report","routerLinkActive","activeRouting",3,"routerLinkActiveOptions",4,"ngIf"],["style","margin-left: 20%;text-decoration: none;","routerLink","/nurse/dashboard/profile","routerLinkActive","activeRouting",3,"routerLinkActiveOptions",4,"ngIf"],[1,"flexExpand"],["mat-raised-button","",1,"logout",3,"click"],["sidenav","matSidenav"],["src","assets/profileImg.png",1,"avatar","mat-elevation-z8"],[1,"name",2,"margin-bottom","0","margin-top","1em"],[1,"designation"],["mat-button","","class","menu-button","routerLink","/nurse/dashboard/profile",3,"click",4,"ngIf"],["mat-button","","class","menu-button","routerLink","/nurse/dashboard/appointment",3,"click",4,"ngIf"],["mat-button","","class","menu-button","routerLink","/nurse/dashboard/notes",3,"click",4,"ngIf"],["mat-button","","class","menu-button","routerLink","/nurse/dashboard/visit-report",3,"click",4,"ngIf"],["mat-button","","routerLink","/help",1,"menu-button"],[2,"margin-right","0.5em"],["mat-icon-button","",3,"click"],[4,"ngIf"],["routerLink","/nurse/dashboard/appointment","routerLinkActive","activeRouting",2,"margin-left","20%","text-decoration","none",3,"routerLinkActiveOptions"],["routerLink","/nurse/dashboard/notes","routerLinkActive","activeRouting",2,"margin-left","5%","text-decoration","none",3,"routerLinkActiveOptions"],["routerLink","/nurse/dashboard/visit-report","routerLinkActive","activeRouting",2,"margin-left","5%","text-decoration","none",3,"routerLinkActiveOptions"],["routerLink","/nurse/dashboard/profile","routerLinkActive","activeRouting",2,"margin-left","20%","text-decoration","none",3,"routerLinkActiveOptions"],["mat-button","","routerLink","/nurse/dashboard/profile",1,"menu-button",3,"click"],["mat-button","","routerLink","/nurse/dashboard/appointment",1,"menu-button",3,"click"],["mat-button","","routerLink","/nurse/dashboard/notes",1,"menu-button",3,"click"],["mat-button","","routerLink","/nurse/dashboard/visit-report",1,"menu-button",3,"click"]],template:function(o,e){if(1&o&&(t.TgZ(0,"mat-toolbar",0),t.YNc(1,en,3,2,"button",1),t.YNc(2,nn,2,2,"a",2),t.YNc(3,on,2,2,"a",3),t.YNc(4,an,2,2,"a",4),t.YNc(5,ln,2,2,"a",5),t._UZ(6,"span",6),t.TgZ(7,"div")(8,"button",7),t.NdJ("click",function(){return e.logout()}),t._uU(9,"Logout"),t.qZA()()(),t.TgZ(10,"mat-sidenav-container")(11,"mat-sidenav",0,8),t._UZ(13,"img",9),t.TgZ(14,"h4",10),t._uU(15),t.qZA(),t.TgZ(16,"p",11),t._uU(17,"(Nurse)"),t.qZA(),t._UZ(18,"mat-divider"),t.YNc(19,rn,5,0,"button",12),t.YNc(20,sn,5,0,"button",13),t.YNc(21,mn,5,0,"button",14),t.YNc(22,pn,5,0,"button",15),t._UZ(23,"mat-divider"),t.TgZ(24,"button",16)(25,"mat-icon",17),t._uU(26,"help"),t.qZA(),t.TgZ(27,"span"),t._uU(28,"Help"),t.qZA()()(),t.TgZ(29,"mat-sidenav-content"),t._UZ(30,"router-outlet"),t.qZA()()),2&o){const i=t.MAs(12);t.xp6(1),t.Q6J("ngIf","over"===i.mode),t.xp6(1),t.Q6J("ngIf",e.showProfile),t.xp6(1),t.Q6J("ngIf",e.showProfile),t.xp6(1),t.Q6J("ngIf",e.showProfile),t.xp6(1),t.Q6J("ngIf",!e.showProfile),t.xp6(10),t.Oqu(e.user.title+". "+e.user.firstName+" "+e.user.lastName),t.xp6(4),t.Q6J("ngIf",e.showProfile),t.xp6(1),t.Q6J("ngIf",!e.showProfile),t.xp6(1),t.Q6J("ngIf",!e.showProfile),t.xp6(1),t.Q6J("ngIf",!e.showProfile)}},directives:[je.Ye,m.O5,M.lW,$e.Hw,g.yS,g.Od,w.TM,w.JX,Xe.d,g.rH,w.Rh,g.lC],styles:["mat-toolbar[_ngcontent-%COMP%]{background:#004a9f;color:#fff}table[_ngcontent-%COMP%]{width:100%}mat-sidenav[_ngcontent-%COMP%]{margin:16px;width:200px;border-right:none;background:#002b5c;color:#fff;border-radius:10px;padding:16px;text-align:center}.content[_ngcontent-%COMP%]{height:calc(100vh - 130px);border-radius:10px;margin:16px 16px 16px 32px;padding:16px;overflow:auto}mat-sidenav-container[_ngcontent-%COMP%]{height:calc(100vh - 100px)}.menu-button[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:flex-start;font-size:1rem}.avatar[_ngcontent-%COMP%]{margin-top:16px;width:100px;height:100px;border-radius:50%}.name[_ngcontent-%COMP%]{margin-top:8px;font-weight:400}.designation[_ngcontent-%COMP%]{margin-top:2px;font-size:.9rem;color:#d3d3d3}mat-divider[_ngcontent-%COMP%]{margin-top:16px;margin-bottom:16px;background-color:#ffffff80}.logout[_ngcontent-%COMP%]{font-size:medium}.flexExpand[_ngcontent-%COMP%]{flex:1 1 auto}.todaysAppointment[_ngcontent-%COMP%]{background-color:#f0f088}.activeRouting[_ngcontent-%COMP%]{color:#fff}@media only screen and (max-width: 576px){a[_ngcontent-%COMP%]{font-size:small;margin:0%!important}}@media only screen and (min-width: 577px){a[_ngcontent-%COMP%]{font-size:large}}"]}),b=(0,ze.gn)([(0,P.c)()],b);let k=(()=>{class n{constructor(e,i,a,l,d,v,u){this.snackbar=e,this.utilityService=i,this.datePipe=a,this.dialogRef=l,this.data=d,this.router=v,this.formBuilder=u,this.submitted=!1,this.designationValue="",this.date=this.datePipe.transform(new Date,"yyyy-MM-dd"),this.noteForm=u.group({urgencyLevel:new r.NI("NON_URGENT"),date:[this.date,[r.kI.required]],message:["",[r.kI.required]],sendTo:["",[r.kI.required]],employeeId:[this.data.user.employeeId]})}ngOnInit(){}sendNote(){this.snackbar.open("Note Successfully Sent !","",{duration:3e3})}close(){this.dialogRef.close()}dropDownSelected(){"akshay.nile@citiustech.com"==this.noteForm.value.sendTo&&this.noteForm.controls.designation.setValue("Consultant Ophtho")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(y.ux),t.Y36(C.t),t.Y36(m.uU),t.Y36(c.so),t.Y36(c.WI),t.Y36(g.F0),t.Y36(r.qu))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-note-dialog"]],decls:39,vars:10,consts:[[1,"card","mb-4"],[1,"text-center"],[1,"text-dark","text-muted","mb-4","noteTitle"],[3,"formGroup"],[1,"mb-3","form-group"],["for","date",1,"form-label"],["type","date","formControlName","date","id","date",1,"form-control",3,"min"],["for","sendTo",1,"form-label"],["formControlName","sendTo",1,"form-control",3,"blur"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["class","alert text-danger",4,"ngIf"],["for","message",1,"form-label"],["type","text","formControlName","message","id","message",1,"form-control"],[1,"mb-3","radioClass","mb-4","form-group"],["type","radio","id","flexRadioDefault1","formControlName","urgencyLevel",1,"form-control-input",3,"value"],["for","flexRadioDefault1",1,"form-control-label"],["type","radio","id","flexRadioDefault2","checked","","formControlName","urgencyLevel",1,"form-control-input",3,"value"],["for","flexRadioDefault2",1,"form-control-label"],[1,"row","form-group","mt-3"],[1,"col","col-md-12","text-center"],[1,"btn","btn-success","mb-2","me-3",3,"disabled","mat-dialog-close","click"],[1,"btn","btn-warning","mb-2","ms-3",3,"click"],[1,"alert","text-danger"],[4,"ngIf"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),t._uU(3,"Send Note"),t.qZA()(),t.TgZ(4,"form",3)(5,"div",4)(6,"label",5),t._uU(7,"Date Time"),t.qZA(),t._UZ(8,"input",6),t.qZA(),t.TgZ(9,"div",4)(10,"label",7),t._uU(11,"Send To"),t.qZA(),t.TgZ(12,"select",8),t.NdJ("blur",function(){return i.dropDownSelected()}),t.TgZ(13,"option",9),t._uU(14,"Choose Physician"),t.qZA(),t.YNc(15,dn,2,2,"option",10),t.qZA(),t.YNc(16,cn,2,0,"div",11),t.qZA(),t.TgZ(17,"div",4)(18,"label",12),t._uU(19,"Message"),t.qZA(),t._UZ(20,"textarea",13),t.YNc(21,gn,2,1,"div",11),t.qZA(),t.TgZ(22,"div",14)(23,"label"),t._uU(24,"Urgency Level"),t.qZA(),t._uU(25," \xa0\xa0 "),t._UZ(26,"input",15),t.TgZ(27,"label",16),t._uU(28,"Urgent"),t.qZA(),t._uU(29,"\xa0 "),t._UZ(30,"input",17),t.TgZ(31,"label",18),t._uU(32,"Non Urgent"),t.qZA()(),t.TgZ(33,"div",19)(34,"div",20)(35,"button",21),t.NdJ("click",function(){return i.sendNote()}),t._uU(36,"Send"),t.qZA(),t.TgZ(37,"button",22),t.NdJ("click",function(){return i.close()}),t._uU(38,"Close"),t.qZA()()()()()),2&e&&(t.xp6(4),t.Q6J("formGroup",i.noteForm),t.xp6(4),t.Q6J("min",i.date),t.xp6(5),t.Q6J("value",""),t.xp6(2),t.Q6J("ngForOf",i.data.employeeNames),t.xp6(1),t.Q6J("ngIf",i.noteForm.controls.sendTo.touched&&i.noteForm.controls.sendTo.invalid),t.xp6(5),t.Q6J("ngIf",i.noteForm.controls.message.touched&&i.noteForm.controls.message.invalid),t.xp6(5),t.Q6J("value","URGENT"),t.xp6(4),t.Q6J("value","NON_URGENT"),t.xp6(5),t.Q6J("disabled",i.noteForm.invalid)("mat-dialog-close",i.noteForm.value))},directives:[r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,r.EJ,r.YN,r.Kr,m.sg,m.O5,r._,c.ZT],styles:["@media only screen and (max-width: 576px){a[_ngcontent-%COMP%]{font-size:small;margin:0%!important}.noteTitle[_ngcontent-%COMP%]{font-size:small}.btn-success[_ngcontent-%COMP%]{margin:0%!important}.btn-warning[_ngcontent-%COMP%]{margin:5%!important}}"]}),n})(),_n=(()=>{class n{constructor(e,i){this.dialogRef=e,this.data=i}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(c.so),t.Y36(c.WI))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-note-view"]],decls:19,vars:6,consts:[[1,"card","mb-4",2,"width","600px"],[1,"text-center","mt-4"],[1,"text-dark","text-muted","mb-4"],[1,"example-card"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),t._uU(3," Note Details"),t.qZA()(),t.TgZ(4,"mat-card",3)(5,"mat-card-title-group")(6,"mat-card-title"),t._uU(7),t.qZA()(),t._UZ(8,"br"),t.TgZ(9,"mat-card-content"),t._uU(10),t._UZ(11,"br")(12,"br"),t._uU(13),t._UZ(14,"br")(15,"br"),t.TgZ(16,"b"),t._uU(17),t.ALo(18,"titlecase"),t.qZA()()()()),2&e&&(t.xp6(7),t.Oqu(i.data.sendToName),t.xp6(3),t.hij(" Message : ",i.data.note.message," "),t.xp6(3),t.hij(" Sent On : ",i.data.note.date," "),t.xp6(4),t.hij("Urgency Level : ",t.lcZ(18,4,i.data.note.urgencyLevel.replace("_"," ")),""))},directives:[_.a8,_.C1,_.n5,_.dn],pipes:[m.rS],styles:[""]}),n})();var fn=s(4339);function hn(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"mat-card",8)(2,"mat-card-content")(3,"h2"),t._uU(4),t.qZA(),t.TgZ(5,"p")(6,"b"),t._uU(7,"Message: "),t.qZA(),t._uU(8),t.qZA(),t.TgZ(9,"p")(10,"b"),t._uU(11,"Urgency Level: "),t.qZA(),t._uU(12),t.ALo(13,"titlecase"),t.qZA()(),t.TgZ(14,"mat-card-actions")(15,"button",9),t.NdJ("click",function(){const l=t.CHM(e).$implicit;return t.oxw().viewNote(l)}),t._uU(16,"View"),t.qZA()()(),t.BQk()}if(2&n){const e=o.$implicit,i=t.oxw();t.xp6(4),t.hij(" ",i.getSentToNameByEmail(e)," "),t.xp6(4),t.Oqu(e.message),t.xp6(4),t.Oqu(t.lcZ(13,3,e.urgencyLevel.replace("_"," ")))}}let vn=(()=>{class n{constructor(e,i,a,l){this.router=e,this.dialog=i,this.noteService=a,this.utilityService=l,this.notes=[],this.allEmployeeNames=[],this.user=JSON.parse(sessionStorage.getItem("user"))}ngOnInit(){this.getAllEmployeeNames(),this.getAllNotes()}getSentToNameByEmail(e){var i;let a=this.allEmployeeNames.find(l=>l.employeeId===e.employeeId);return a?"From: "+a.name:"To: "+(null===(i=this.allEmployeeNames.find(l=>l.email===e.sendTo))||void 0===i?void 0:i.name)}getAllEmployeeNames(){this.utilityService.getAllPhysicians().subscribe(e=>{this.allEmployeeNames=e})}viewNote(e){const i=new c.vA;i.disableClose=!0,i.autoFocus=!0,this.dialog.open(_n,{width:"50%",data:{note:e,sendToName:this.getSentToNameByEmail(e)}}).afterClosed().subscribe(l=>{null!=l&&this.notes.push(l)})}getAllNotes(){this.noteService.getNotes().subscribe(e=>{null!=e?this.notes=e.filter(i=>i.employeeId===this.user.employeeId||i.sendTo===this.user.email):alert("Notes Not Available !")})}sendNote(){const e=new c.vA;e.disableClose=!0,e.autoFocus=!0,this.dialog.open(k,{width:"50%",data:{user:this.user,employeeNames:this.allEmployeeNames}}).afterClosed().subscribe(a=>{null!=a&&this.noteService.addNote(a).subscribe(l=>this.getAllNotes())})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g.F0),t.Y36(c.uw),t.Y36(fn.Y),t.Y36(C.t))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-notes"]],decls:11,vars:1,consts:[[1,"content","mat-elevation-z8"],[1,"card-wrapper"],[1,"row"],[1,"text-dark","col-md-10",2,"font-size","20px","margin-top","2%","margin-bottom","2%"],[1,"col-md-2",2,"margin-right","0%","padding-right","0%"],["mat-raised-button","","color","primary",3,"click"],["label","All"],[4,"ngFor","ngForOf"],[1,"example-card","mb-5"],["mat-raised-button","",1,"btn-success",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t._uU(4," Notes"),t.qZA(),t.TgZ(5,"div",4)(6,"button",5),t.NdJ("click",function(){return i.sendNote()}),t._uU(7,"Send Note"),t.qZA()()(),t.TgZ(8,"mat-tab-group")(9,"mat-tab",6),t.YNc(10,hn,17,5,"ng-container",7),t.qZA()()()()),2&e&&(t.xp6(10),t.Q6J("ngForOf",i.notes.reverse()))},directives:[M.lW,Z.SP,Z.uX,m.sg,_.a8,_.dn,_.hq],pipes:[m.rS],styles:["mat-toolbar[_ngcontent-%COMP%]{background:#004a9f;color:#fff}mat-sidenav[_ngcontent-%COMP%]{margin:16px;width:200px;border-right:none;background:#002b5c;color:#fff;border-radius:10px;padding:16px;text-align:center}.content[_ngcontent-%COMP%]{height:calc(100vh - 130px);border-radius:10px;margin:16px 16px 16px 32px;padding:16px;overflow:auto}mat-sidenav-container[_ngcontent-%COMP%]{height:calc(100vh - 65px)}.menu-button[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:flex-start;font-size:1rem}.avatar[_ngcontent-%COMP%]{margin-top:16px;width:100px;height:100px;border-radius:50%}.name[_ngcontent-%COMP%]{margin-top:8px;font-weight:400}.designation[_ngcontent-%COMP%]{margin-top:2px;font-size:.9rem;color:#d3d3d3}mat-divider[_ngcontent-%COMP%]{margin-top:16px;margin-bottom:16px;background-color:#ffffff80}.logout[_ngcontent-%COMP%]{font-size:medium}.flexExpand[_ngcontent-%COMP%]{flex:1 1 auto}p[_ngcontent-%COMP%]{font-size:12pt}b[_ngcontent-%COMP%]{margin-right:.5em}"]}),n})();var bn=s(2222),Tn=s(341),Zn=s(3737);function An(n,o){1&n&&(t.TgZ(0,"th",23),t._uU(1," Title "),t.qZA())}function Cn(n,o){if(1&n&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.hij(" ",e.title," ")}}function xn(n,o){1&n&&(t.TgZ(0,"th",23),t._uU(1," Physician "),t.qZA())}function Nn(n,o){if(1&n&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.hij(" ",e.employeeName," ")}}function yn(n,o){1&n&&(t.TgZ(0,"th",23),t._uU(1," Patient "),t.qZA())}function Dn(n,o){if(1&n&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.hij(" ",e.patientName," ")}}function wn(n,o){1&n&&(t.TgZ(0,"th",23),t._uU(1," Date "),t.qZA())}function qn(n,o){if(1&n&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.hij("",e.date," ")}}function Mn(n,o){1&n&&(t.TgZ(0,"th",23),t._uU(1," Time "),t.qZA())}function In(n,o){if(1&n&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.hij("",e.time," ")}}function Pn(n,o){1&n&&(t.TgZ(0,"th",23),t._uU(1," Action "),t.qZA())}function Jn(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"td",24)(1,"button",25),t.NdJ("click",function(){const l=t.CHM(e).$implicit;return t.oxw(2).viewDetails(l.appointment)}),t._uU(2,"View"),t.qZA()()}}function Un(n,o){1&n&&t._UZ(0,"tr",26)}const Fn=function(n){return{todaysAppointment:n}};function kn(n,o){if(1&n&&t._UZ(0,"tr",27),2&n){const e=o.$implicit,i=t.oxw(2);t.Q6J("ngClass",t.VKq(1,Fn,e.date==i.date))}}function Qn(n,o){if(1&n&&(t.TgZ(0,"tr",28)(1,"td",29),t._uU(2),t.qZA()()),2&n){t.oxw();const e=t.MAs(9);t.xp6(2),t.hij('No data matching the filter "',e.value,'" ')}}const Yn=function(){return[5,10,25,100]};function On(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5),t._uU(4," Visit History Details"),t.qZA(),t.TgZ(5,"mat-form-field",6)(6,"mat-label"),t._uU(7,"Search"),t.qZA(),t.TgZ(8,"input",7,8),t.NdJ("keyup",function(a){return t.CHM(e),t.oxw().applyFilter(a)}),t.qZA()(),t.TgZ(10,"div",9)(11,"table",10),t.ynx(12,11),t.YNc(13,An,2,0,"th",12),t.YNc(14,Cn,2,1,"td",13),t.BQk(),t.ynx(15,14),t.YNc(16,xn,2,0,"th",12),t.YNc(17,Nn,2,1,"td",13),t.BQk(),t.ynx(18,15),t.YNc(19,yn,2,0,"th",12),t.YNc(20,Dn,2,1,"td",13),t.BQk(),t.ynx(21,16),t.YNc(22,wn,2,0,"th",12),t.YNc(23,qn,2,1,"td",13),t.BQk(),t.ynx(24,17),t.YNc(25,Mn,2,0,"th",12),t.YNc(26,In,2,1,"td",13),t.BQk(),t.ynx(27,18),t.YNc(28,Pn,2,0,"th",12),t.YNc(29,Jn,3,0,"td",13),t.BQk(),t.YNc(30,Un,1,0,"tr",19),t.YNc(31,kn,1,3,"tr",20),t.YNc(32,Qn,3,1,"tr",21),t.qZA(),t._UZ(33,"mat-paginator",22),t.qZA()()()()}if(2&n){const e=t.oxw();t.xp6(11),t.Q6J("dataSource",e.dataSource),t.xp6(19),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(4,Yn))}}function Vn(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"visit-report",30),t.NdJ("buttonClick",function(){return t.CHM(e),t.oxw().showReport=!1}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("reportData",e.report)}}const En=[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",component:b,children:[{path:"",redirectTo:"appointment",pathMatch:"full"},{path:"appointment",component:Le},{path:"notes",component:vn},{path:"profile",component:Y.d},{path:"visit-report",component:(()=>{class n{constructor(e,i,a,l,d){this.router=e,this.datePipe=i,this.patientVisitService=a,this.appointmentService=l,this.utilityService=d,this.displayedColumns=["title","employeeName","patientName","date","time","action"],this.todaysAppointment="todaysAppointment",this.report=new bn.w,this.allPastAppointments=[],this.allEmployeeNames=[],this.allPatientNames=[],this.user=JSON.parse(sessionStorage.getItem("user")),this.date=this.datePipe.transform(new Date,"yyyy-MM-dd")}ngOnInit(){this.appointmentService.getAllPastAppointments().subscribe(e=>{this.allPastAppointments=e,this.utilityService.getAllPhysicians().subscribe(i=>{this.allEmployeeNames=i,this.utilityService.getAllPatientNames().subscribe(a=>{this.allPatientNames=a,this.loadDataSource()})})})}loadDataSource(){let e=this.allPastAppointments.map(i=>{var a,l;return{appointment:i,title:i.title,date:i.date,time:i.time,employeeName:null===(a=this.allEmployeeNames.find(d=>d.employeeId==i.employeeId))||void 0===a?void 0:a.name,patientName:null===(l=this.allPatientNames.find(d=>d.patientId==i.patientId))||void 0===l?void 0:l.name}});this.dataSource=new p.by(e),null!=this.dataSource&&(this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort)}viewDetails(e){this.showReport=!0,this.patientVisitService.getVisitReportDetails(e).subscribe(i=>{this.report=i})}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}logout(){sessionStorage.clear(),this.router.navigate(["/login"])}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g.F0),t.Y36(m.uU),t.Y36(Tn.A),t.Y36(A.H),t.Y36(C.t))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-patient-visit-history"]],viewQuery:function(e,i){if(1&e&&(t.Gf(x.NW,5),t.Gf(U.YE,5)),2&e){let a;t.iGM(a=t.CRH())&&(i.paginator=a.first),t.iGM(a=t.CRH())&&(i.sort=a.first)}},decls:2,vars:2,consts:[["class","content mat-elevation-z8",4,"ngIf"],[3,"reportData","buttonClick",4,"ngIf"],[1,"content","mat-elevation-z8"],[1,"card-wrapper"],[1,"row"],[1,"text-dark","col-sm-6",2,"font-size","20px","margin-top","2%","margin-bottom","2%"],["appearance","standard"],["matInput","","placeholder","Ex. Patient Name",3,"keyup"],["input",""],[1,"mat-elevation-z8"],["mat-table","","matSort","",1,"table","table-striped",3,"dataSource"],["matColumnDef","title"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","employeeName"],["matColumnDef","patientName"],["matColumnDef","date"],["matColumnDef","time"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"ngClass",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[1,"btn","btn-success",3,"click"],["mat-header-row",""],["mat-row","",3,"ngClass"],[1,"mat-row"],["colspan","4",1,"mat-cell"],[3,"reportData","buttonClick"]],template:function(e,i){1&e&&(t.YNc(0,On,34,5,"div",0),t.YNc(1,Vn,1,1,"visit-report",1)),2&e&&(t.Q6J("ngIf",!i.showReport),t.xp6(1),t.Q6J("ngIf",i.showReport))},directives:[m.O5,D.KE,D.hX,F.Nt,p.BZ,p.w1,p.fO,p.ge,p.Dz,p.ev,p.as,p.XQ,p.nj,p.Gk,m.mk,p.Ee,x.NW,Zn.Y],styles:["h1[_ngcontent-%COMP%]{margin:100px;text-align:center;font-family:Verdana,Geneva,Tahoma,sans-serif}mat-toolbar[_ngcontent-%COMP%]{background:#004a9f;color:#fff}table[_ngcontent-%COMP%]{width:100%}mat-paginator[_ngcontent-%COMP%]{font-size:11.5pt}mat-sidenav[_ngcontent-%COMP%]{margin:16px;width:200px;border-right:none;background:#002b5c;color:#fff;border-radius:10px;padding:16px;text-align:center}.content[_ngcontent-%COMP%]{height:calc(100vh - 130px);border-radius:10px;margin:16px 16px 16px 32px;padding:16px;overflow:auto}mat-sidenav-container[_ngcontent-%COMP%]{height:calc(100vh - 100px)}.menu-button[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:flex-start;font-size:1rem}.avatar[_ngcontent-%COMP%]{margin-top:16px;width:100px;height:100px;border-radius:50%}.name[_ngcontent-%COMP%]{margin-top:8px;font-weight:400}.designation[_ngcontent-%COMP%]{margin-top:2px;font-size:.9rem;color:#d3d3d3}mat-divider[_ngcontent-%COMP%]{margin-top:16px;margin-bottom:16px;background-color:#ffffff80}.logout[_ngcontent-%COMP%]{font-size:medium}.flexExpand[_ngcontent-%COMP%]{flex:1 1 auto}.todaysAppointment[_ngcontent-%COMP%]{background-color:#f0f088}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{font-size:11pt;vertical-align:middle;-webkit-user-select:none;user-select:none}th[_ngcontent-%COMP%]{font-weight:700}@media only screen and (max-width: 576px){mat-raised-button[_ngcontent-%COMP%]{font-size:medium}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{font-size:x-small!important}.btn-success[_ngcontent-%COMP%]{font-size:x-small}}"]}),n})()}]},{path:"notes-dialog",component:k}];let Rn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[g.Bz.forChild(En)],g.Bz]}),n})();var Hn=s(3559),Ln=s(4130),h=s(2782),zn=s(1178),Bn=s(6652),Gn=s(4065);I.z1U.registerPlugins([Hn.ZP,zn.ZP,Ln.ZP]);let Wn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[h.Rg,h.F$,h.ZP,h.Tk,h.im,h.H1,h._Y,h.Ct],imports:[[m.ez,Rn,r.UX,Bn.q,I.z1U,h.K7,Gn.m]]}),n})()}}]);